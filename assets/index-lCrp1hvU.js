(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const _e={},hs=[],ct=()=>{},Ol=()=>!1,Sr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),An=e=>e.startsWith("onUpdate:"),Le=Object.assign,Rn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Pl=Object.prototype.hasOwnProperty,le=(e,t)=>Pl.call(e,t),z=Array.isArray,fs=e=>Er(e)==="[object Map]",Ro=e=>Er(e)==="[object Set]",Y=e=>typeof e=="function",Se=e=>typeof e=="string",bt=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",Co=e=>(ye(e)||Y(e))&&Y(e.then)&&Y(e.catch),jo=Object.prototype.toString,Er=e=>jo.call(e),Al=e=>Er(e).slice(8,-1),Io=e=>Er(e)==="[object Object]",Cn=e=>Se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cs=Pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Rl=/-(\w)/g,Ye=kr(e=>e.replace(Rl,(t,s)=>s?s.toUpperCase():"")),Cl=/\B([A-Z])/g,Yt=kr(e=>e.replace(Cl,"-$1").toLowerCase()),Tr=kr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ur=kr(e=>e?`on${Tr(e)}`:""),It=(e,t)=>!Object.is(e,t),Nr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Mo=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},jl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let fi;const xr=()=>fi||(fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jn(e){if(z(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=Se(r)?Ll(r):jn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(Se(e)||ye(e))return e}const Il=/;(?![^(]*\))/g,Ml=/:([^]+)/,Dl=/\/\*[^]*?\*\//g;function Ll(e){const t={};return e.replace(Dl,"").split(Il).forEach(s=>{if(s){const r=s.split(Ml);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function In(e){let t="";if(Se(e))t=e;else if(z(e))for(let s=0;s<e.length;s++){const r=In(e[s]);r&&(t+=r+" ")}else if(ye(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ul="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nl=Pn(Ul);function Do(e){return!!e||e===""}const Lo=e=>!!(e&&e.__v_isRef===!0),vt=e=>Se(e)?e:e==null?"":z(e)||ye(e)&&(e.toString===jo||!Y(e.toString))?Lo(e)?vt(e.value):JSON.stringify(e,Uo,2):String(e),Uo=(e,t)=>Lo(t)?Uo(e,t.value):fs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[Fr(r,i)+" =>"]=n,s),{})}:Ro(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Fr(s))}:bt(t)?Fr(t):ye(t)&&!z(t)&&!Io(t)?String(t):t,Fr=(e,t="")=>{var s;return bt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class No{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ne;try{return Ne=this,t()}finally{Ne=s}}}on(){Ne=this}off(){Ne=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Fo(e){return new No(e)}function Bo(){return Ne}function Fl(e,t=!1){Ne&&Ne.cleanups.push(e)}let ge;const Br=new WeakSet;class Ho{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Br.has(this)&&(Br.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,di(this),Ko(this);const t=ge,s=Ze;ge=this,Ze=!0;try{return this.fn()}finally{Wo(this),ge=t,Ze=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ln(t);this.deps=this.depsTail=void 0,di(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Br.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){on(this)&&this.run()}get dirty(){return on(this)}}let qo=0,js,Is;function Vo(e,t=!1){if(e.flags|=8,t){e.next=Is,Is=e;return}e.next=js,js=e}function Mn(){qo++}function Dn(){if(--qo>0)return;if(Is){let t=Is;for(Is=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;js;){let t=js;for(js=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function Ko(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wo(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Ln(r),Bl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function on(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vs))return;e.globalVersion=Vs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!on(e)){e.flags&=-3;return}const s=ge,r=Ze;ge=e,Ze=!0;try{Ko(e);const n=e.fn(e._value);(t.version===0||It(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ge=s,Ze=r,Wo(e),e.flags&=-3}}function Ln(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Ln(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ze=!0;const Jo=[];function Lt(){Jo.push(Ze),Ze=!1}function Ut(){const e=Jo.pop();Ze=e===void 0?!0:e}function di(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ge;ge=void 0;try{t()}finally{ge=s}}}let Vs=0;class Hl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Un{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ge||!Ze||ge===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ge)s=this.activeLink=new Hl(ge,this),ge.deps?(s.prevDep=ge.depsTail,ge.depsTail.nextDep=s,ge.depsTail=s):ge.deps=ge.depsTail=s,Go(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ge.depsTail,s.nextDep=void 0,ge.depsTail.nextDep=s,ge.depsTail=s,ge.deps===s&&(ge.deps=r)}return s}trigger(t){this.version++,Vs++,this.notify(t)}notify(t){Mn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Dn()}}}function Go(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Go(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const pr=new WeakMap,Wt=Symbol(""),an=Symbol(""),Ks=Symbol("");function Ie(e,t,s){if(Ze&&ge){let r=pr.get(e);r||pr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new Un),n.map=r,n.key=s),n.track()}}function mt(e,t,s,r,n,i){const o=pr.get(e);if(!o){Vs++;return}const a=l=>{l&&l.trigger()};if(Mn(),t==="clear")o.forEach(a);else{const l=z(e),u=l&&Cn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Ks||!bt(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Ks)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Wt)),fs(e)&&a(o.get(an)));break;case"delete":l||(a(o.get(Wt)),fs(e)&&a(o.get(an)));break;case"set":fs(e)&&a(o.get(Wt));break}}Dn()}function ql(e,t){const s=pr.get(e);return s&&s.get(t)}function Xt(e){const t=oe(e);return t===e?t:(Ie(t,"iterate",Ks),Ge(e)?t:t.map(Me))}function $r(e){return Ie(e=oe(e),"iterate",Ks),e}const Vl={__proto__:null,[Symbol.iterator](){return Hr(this,Symbol.iterator,Me)},concat(...e){return Xt(this).concat(...e.map(t=>z(t)?Xt(t):t))},entries(){return Hr(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return dt(this,"every",e,t,void 0,arguments)},filter(e,t){return dt(this,"filter",e,t,s=>s.map(Me),arguments)},find(e,t){return dt(this,"find",e,t,Me,arguments)},findIndex(e,t){return dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return dt(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return qr(this,"includes",e)},indexOf(...e){return qr(this,"indexOf",e)},join(e){return Xt(this).join(e)},lastIndexOf(...e){return qr(this,"lastIndexOf",e)},map(e,t){return dt(this,"map",e,t,void 0,arguments)},pop(){return Ts(this,"pop")},push(...e){return Ts(this,"push",e)},reduce(e,...t){return pi(this,"reduce",e,t)},reduceRight(e,...t){return pi(this,"reduceRight",e,t)},shift(){return Ts(this,"shift")},some(e,t){return dt(this,"some",e,t,void 0,arguments)},splice(...e){return Ts(this,"splice",e)},toReversed(){return Xt(this).toReversed()},toSorted(e){return Xt(this).toSorted(e)},toSpliced(...e){return Xt(this).toSpliced(...e)},unshift(...e){return Ts(this,"unshift",e)},values(){return Hr(this,"values",Me)}};function Hr(e,t,s){const r=$r(e),n=r[t]();return r!==e&&!Ge(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Kl=Array.prototype;function dt(e,t,s,r,n,i){const o=$r(e),a=o!==e&&!Ge(e),l=o[t];if(l!==Kl[t]){const h=l.apply(e,i);return a?Me(h):h}let u=s;o!==e&&(a?u=function(h,f){return s.call(this,Me(h),f,e)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function pi(e,t,s,r){const n=$r(e);let i=s;return n!==e&&(Ge(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Me(a),l,e)}),n[t](i,...r)}function qr(e,t,s){const r=oe(e);Ie(r,"iterate",Ks);const n=r[t](...s);return(n===-1||n===!1)&&Bn(s[0])?(s[0]=oe(s[0]),r[t](...s)):n}function Ts(e,t,s=[]){Lt(),Mn();const r=oe(e)[t].apply(e,s);return Dn(),Ut(),r}const Wl=Pn("__proto__,__v_isRef,__isVue"),Yo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(bt));function zl(e){bt(e)||(e=String(e));const t=oe(this);return Ie(t,"has",e),t.hasOwnProperty(e)}class Qo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?rc:ta:i?ea:Zo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=z(t);if(!n){let l;if(o&&(l=Vl[s]))return l;if(s==="hasOwnProperty")return zl}const a=Reflect.get(t,s,be(t)?t:r);return(bt(s)?Yo.has(s):Wl(s))||(n||Ie(t,"get",s),i)?a:be(a)?o&&Cn(s)?a:a.value:ye(a)?n?ra(a):Ss(a):a}}class Xo extends Qo{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Gt(i);if(!Ge(r)&&!Gt(r)&&(i=oe(i),r=oe(r)),!z(t)&&be(i)&&!be(r))return l?!1:(i.value=r,!0)}const o=z(t)&&Cn(s)?Number(s)<t.length:le(t,s),a=Reflect.set(t,s,r,be(t)?t:n);return t===oe(n)&&(o?It(r,i)&&mt(t,"set",s,r):mt(t,"add",s,r)),a}deleteProperty(t,s){const r=le(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&mt(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!bt(s)||!Yo.has(s))&&Ie(t,"has",s),r}ownKeys(t){return Ie(t,"iterate",z(t)?"length":Wt),Reflect.ownKeys(t)}}class Jl extends Qo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Gl=new Xo,Yl=new Jl,Ql=new Xo(!0);const ln=e=>e,sr=e=>Reflect.getPrototypeOf(e);function Xl(e,t,s){return function(...r){const n=this.__v_raw,i=oe(n),o=fs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?ln:t?cn:Me;return!t&&Ie(i,"iterate",l?an:Wt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Zl(e,t){const s={get(n){const i=this.__v_raw,o=oe(i),a=oe(n);e||(It(n,a)&&Ie(o,"get",n),Ie(o,"get",a));const{has:l}=sr(o),u=t?ln:e?cn:Me;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Ie(oe(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=oe(i),a=oe(n);return e||(It(n,a)&&Ie(o,"has",n),Ie(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=oe(a),u=t?ln:e?cn:Me;return!e&&Ie(l,"iterate",Wt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Le(s,e?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(n){!t&&!Ge(n)&&!Gt(n)&&(n=oe(n));const i=oe(this);return sr(i).has.call(i,n)||(i.add(n),mt(i,"add",n,n)),this},set(n,i){!t&&!Ge(i)&&!Gt(i)&&(i=oe(i));const o=oe(this),{has:a,get:l}=sr(o);let u=a.call(o,n);u||(n=oe(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?It(i,c)&&mt(o,"set",n,i):mt(o,"add",n,i),this},delete(n){const i=oe(this),{has:o,get:a}=sr(i);let l=o.call(i,n);l||(n=oe(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&mt(i,"delete",n,void 0),u},clear(){const n=oe(this),i=n.size!==0,o=n.clear();return i&&mt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Xl(n,e,t)}),s}function Nn(e,t){const s=Zl(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(le(s,n)&&n in r?s:r,n,i)}const ec={get:Nn(!1,!1)},tc={get:Nn(!1,!0)},sc={get:Nn(!0,!1)};const Zo=new WeakMap,ea=new WeakMap,ta=new WeakMap,rc=new WeakMap;function nc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ic(e){return e.__v_skip||!Object.isExtensible(e)?0:nc(Al(e))}function Ss(e){return Gt(e)?e:Fn(e,!1,Gl,ec,Zo)}function sa(e){return Fn(e,!1,Ql,tc,ea)}function ra(e){return Fn(e,!0,Yl,sc,ta)}function Fn(e,t,s,r,n){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=ic(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function Mt(e){return Gt(e)?Mt(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function Ge(e){return!!(e&&e.__v_isShallow)}function Bn(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function Hn(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&Mo(e,"__v_skip",!0),e}const Me=e=>ye(e)?Ss(e):e,cn=e=>ye(e)?ra(e):e;function be(e){return e?e.__v_isRef===!0:!1}function wt(e){return na(e,!1)}function oc(e){return na(e,!0)}function na(e,t){return be(e)?e:new ac(e,t)}class ac{constructor(t,s){this.dep=new Un,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:oe(t),this._value=s?t:Me(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Ge(t)||Gt(t);t=r?t:oe(t),It(t,s)&&(this._rawValue=t,this._value=r?t:Me(t),this.dep.trigger())}}function Re(e){return be(e)?e.value:e}const lc={get:(e,t,s)=>t==="__v_raw"?e:Re(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return be(n)&&!be(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function ia(e){return Mt(e)?e:new Proxy(e,lc)}function cc(e){const t=z(e)?new Array(e.length):{};for(const s in e)t[s]=hc(e,s);return t}class uc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ql(oe(this._object),this._key)}}function hc(e,t,s){const r=e[t];return be(r)?r:new uc(e,t,s)}class fc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Un(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return Vo(this,!0),!0}get value(){const t=this.dep.track();return zo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dc(e,t,s=!1){let r,n;return Y(e)?r=e:(r=e.get,n=e.set),new fc(r,n,s)}const nr={},gr=new WeakMap;let qt;function pc(e,t=!1,s=qt){if(s){let r=gr.get(s);r||gr.set(s,r=[]),r.push(e)}}function gc(e,t,s=_e){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=A=>n?A:Ge(A)||n===!1||n===0?Rt(A,1):Rt(A);let c,h,f,p,m=!1,S=!1;if(be(e)?(h=()=>e.value,m=Ge(e)):Mt(e)?(h=()=>u(e),m=!0):z(e)?(S=!0,m=e.some(A=>Mt(A)||Ge(A)),h=()=>e.map(A=>{if(be(A))return A.value;if(Mt(A))return u(A);if(Y(A))return l?l(A,2):A()})):Y(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Lt();try{f()}finally{Ut()}}const A=qt;qt=c;try{return l?l(e,3,[p]):e(p)}finally{qt=A}}:h=ct,t&&n){const A=h,F=n===!0?1/0:n;h=()=>Rt(A(),F)}const $=Bo(),L=()=>{c.stop(),$&&$.active&&Rn($.effects,c)};if(i&&t){const A=t;t=(...F)=>{A(...F),L()}}let U=S?new Array(e.length).fill(nr):nr;const C=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(t){const F=c.run();if(n||m||(S?F.some((fe,ie)=>It(fe,U[ie])):It(F,U))){f&&f();const fe=qt;qt=c;try{const ie=[F,U===nr?void 0:S&&U[0]===nr?[]:U,p];l?l(t,3,ie):t(...ie),U=F}finally{qt=fe}}}else c.run()};return a&&a(C),c=new Ho(h),c.scheduler=o?()=>o(C,!1):C,p=A=>pc(A,!1,c),f=c.onStop=()=>{const A=gr.get(c);if(A){if(l)l(A,4);else for(const F of A)F();gr.delete(c)}},t?r?C(!0):U=c.run():o?o(C.bind(null,!0),!0):c.run(),L.pause=c.pause.bind(c),L.resume=c.resume.bind(c),L.stop=L,L}function Rt(e,t=1/0,s){if(t<=0||!ye(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,be(e))Rt(e.value,t,s);else if(z(e))for(let r=0;r<e.length;r++)Rt(e[r],t,s);else if(Ro(e)||fs(e))e.forEach(r=>{Rt(r,t,s)});else if(Io(e)){for(const r in e)Rt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Rt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zs(e,t,s,r){try{return r?e(...r):e()}catch(n){Or(n,t,s)}}function ht(e,t,s,r){if(Y(e)){const n=Zs(e,t,s,r);return n&&Co(n)&&n.catch(i=>{Or(i,t,s)}),n}if(z(e)){const n=[];for(let i=0;i<e.length;i++)n.push(ht(e[i],t,s,r));return n}}function Or(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||_e;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){Lt(),Zs(i,null,10,[e,l,u]),Ut();return}}_c(e,s,n,r,o)}function _c(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const Fe=[];let at=-1;const ds=[];let $t=null,ls=0;const oa=Promise.resolve();let _r=null;function Pr(e){const t=_r||oa;return e?t.then(this?e.bind(this):e):t}function mc(e){let t=at+1,s=Fe.length;for(;t<s;){const r=t+s>>>1,n=Fe[r],i=Ws(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function qn(e){if(!(e.flags&1)){const t=Ws(e),s=Fe[Fe.length-1];!s||!(e.flags&2)&&t>=Ws(s)?Fe.push(e):Fe.splice(mc(t),0,e),e.flags|=1,aa()}}function aa(){_r||(_r=oa.then(ca))}function vc(e){z(e)?ds.push(...e):$t&&e.id===-1?$t.splice(ls+1,0,e):e.flags&1||(ds.push(e),e.flags|=1),aa()}function gi(e,t,s=at+1){for(;s<Fe.length;s++){const r=Fe[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Fe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function la(e){if(ds.length){const t=[...new Set(ds)].sort((s,r)=>Ws(s)-Ws(r));if(ds.length=0,$t){$t.push(...t);return}for($t=t,ls=0;ls<$t.length;ls++){const s=$t[ls];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}$t=null,ls=0}}const Ws=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ca(e){try{for(at=0;at<Fe.length;at++){const t=Fe[at];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Zs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;at<Fe.length;at++){const t=Fe[at];t&&(t.flags&=-2)}at=-1,Fe.length=0,la(),_r=null,(Fe.length||ds.length)&&ca()}}let De=null,ua=null;function mr(e){const t=De;return De=e,ua=e&&e.type.__scopeId||null,t}function yt(e,t=De,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Ti(-1);const i=mr(t);let o;try{o=e(...n)}finally{mr(i),r._d&&Ti(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ft(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Lt(),ht(l,s,8,[e.el,a,e,t]),Ut())}}const yc=Symbol("_vte"),wc=e=>e.__isTeleport;function Vn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ft(e,t){return Y(e)?Le({name:e.name},t,{setup:e}):e}function ha(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function vr(e,t,s,r,n=!1){if(z(e)){e.forEach((m,S)=>vr(m,t&&(z(t)?t[S]:t),s,r,n));return}if(ps(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&vr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Qn(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===_e?a.refs={}:a.refs,h=a.setupState,f=oe(h),p=h===_e?()=>!1:m=>le(f,m);if(u!=null&&u!==l&&(Se(u)?(c[u]=null,p(u)&&(h[u]=null)):be(u)&&(u.value=null)),Y(l))Zs(l,a,12,[o,c]);else{const m=Se(l),S=be(l);if(m||S){const $=()=>{if(e.f){const L=m?p(l)?h[l]:c[l]:l.value;n?z(L)&&Rn(L,i):z(L)?L.includes(i)||L.push(i):m?(c[l]=[i],p(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,p(l)&&(h[l]=o)):S&&(l.value=o,e.k&&(c[e.k]=o))};o?($.id=-1,We($,s)):$()}}}xr().requestIdleCallback;xr().cancelIdleCallback;const ps=e=>!!e.type.__asyncLoader,fa=e=>e.type.__isKeepAlive;function bc(e,t){da(e,"a",t)}function Sc(e,t){da(e,"da",t)}function da(e,t,s=Ce){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ar(t,r,s),s){let n=s.parent;for(;n&&n.parent;)fa(n.parent.vnode)&&Ec(r,t,s,n),n=n.parent}}function Ec(e,t,s,r){const n=Ar(t,e,r,!0);Wn(()=>{Rn(r[t],n)},s)}function Ar(e,t,s=Ce,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Lt();const a=er(s),l=ht(t,s,e,o);return a(),Ut(),l});return r?n.unshift(i):n.push(i),i}}const St=e=>(t,s=Ce)=>{(!Gs||e==="sp")&&Ar(e,(...r)=>t(...r),s)},kc=St("bm"),Kn=St("m"),Tc=St("bu"),pa=St("u"),xc=St("bum"),Wn=St("um"),$c=St("sp"),Oc=St("rtg"),Pc=St("rtc");function Ac(e,t=Ce){Ar("ec",e,t)}const ga="components";function zn(e,t){return ma(ga,e,!0,t)||e}const _a=Symbol.for("v-ndc");function Rc(e){return Se(e)?ma(ga,e,!1)||e:e||_a}function ma(e,t,s=!0,r=!1){const n=De||Ce;if(n){const i=n.type;{const a=yu(i,!1);if(a&&(a===t||a===Ye(t)||a===Tr(Ye(t))))return i}const o=_i(n[e]||i[e],t)||_i(n.appContext[e],t);return!o&&r?i:o}}function _i(e,t){return e&&(e[t]||e[Ye(t)]||e[Tr(Ye(t))])}function Cc(e,t,s,r){let n;const i=s,o=z(e);if(o||Se(e)){const a=o&&Mt(e);let l=!1;a&&(l=!Ge(e),e=$r(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?Me(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(ye(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}function Ms(e,t,s={},r,n){if(De.ce||De.parent&&ps(De.parent)&&De.parent.ce)return t!=="default"&&(s.name=t),ue(),et(Ae,null,[me("slot",s,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),ue();const o=i&&va(i(s)),a=s.key||o&&o.key,l=et(Ae,{key:(a&&!bt(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),l}function va(e){return e.some(t=>Js(t)?!(t.type===Dt||t.type===Ae&&!va(t.children)):!0)?e:null}const un=e=>e?Na(e)?Qn(e):un(e.parent):null,Ds=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>un(e.parent),$root:e=>un(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wa(e),$forceUpdate:e=>e.f||(e.f=()=>{qn(e.update)}),$nextTick:e=>e.n||(e.n=Pr.bind(e.proxy)),$watch:e=>eu.bind(e)}),Vr=(e,t)=>e!==_e&&!e.__isScriptSetup&&le(e,t),jc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(Vr(r,t))return o[t]=1,r[t];if(n!==_e&&le(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&le(u,t))return o[t]=3,i[t];if(s!==_e&&le(s,t))return o[t]=4,s[t];hn&&(o[t]=0)}}const c=Ds[t];let h,f;if(c)return t==="$attrs"&&Ie(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==_e&&le(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,le(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return Vr(n,t)?(n[t]=s,!0):r!==_e&&le(r,t)?(r[t]=s,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==_e&&le(e,o)||Vr(t,o)||(a=i[0])&&le(a,o)||le(r,o)||le(Ds,o)||le(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function mi(e){return z(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let hn=!0;function Ic(e){const t=wa(e),s=e.proxy,r=e.ctx;hn=!1,t.beforeCreate&&vi(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:S,deactivated:$,beforeDestroy:L,beforeUnmount:U,destroyed:C,unmounted:A,render:F,renderTracked:fe,renderTriggered:ie,errorCaptured:Z,serverPrefetch:Q,expose:G,inheritAttrs:J,components:Te,directives:Oe,filters:B}=t;if(u&&Mc(u,r,null),o)for(const T in o){const E=o[T];Y(E)&&(r[T]=E.bind(s))}if(n){const T=n.call(s,s);ye(T)&&(e.data=Ss(T))}if(hn=!0,i)for(const T in i){const E=i[T],q=Y(E)?E.bind(s,s):Y(E.get)?E.get.bind(s,s):ct,V=!Y(E)&&Y(E.set)?E.set.bind(s):ct,ee=je({get:q,set:V});Object.defineProperty(r,T,{enumerable:!0,configurable:!0,get:()=>ee.value,set:te=>ee.value=te})}if(a)for(const T in a)ya(a[T],r,s,T);if(l){const T=Y(l)?l.call(s):l;Reflect.ownKeys(T).forEach(E=>{gs(E,T[E])})}c&&vi(c,e,"c");function k(T,E){z(E)?E.forEach(q=>T(q.bind(s))):E&&T(E.bind(s))}if(k(kc,h),k(Kn,f),k(Tc,p),k(pa,m),k(bc,S),k(Sc,$),k(Ac,Z),k(Pc,fe),k(Oc,ie),k(xc,U),k(Wn,A),k($c,Q),z(G))if(G.length){const T=e.exposed||(e.exposed={});G.forEach(E=>{Object.defineProperty(T,E,{get:()=>s[E],set:q=>s[E]=q})})}else e.exposed||(e.exposed={});F&&e.render===ct&&(e.render=F),J!=null&&(e.inheritAttrs=J),Te&&(e.components=Te),Oe&&(e.directives=Oe),Q&&ha(e)}function Mc(e,t,s=ct){z(e)&&(e=fn(e));for(const r in e){const n=e[r];let i;ye(n)?"default"in n?i=qe(n.from||r,n.default,!0):i=qe(n.from||r):i=qe(n),be(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function vi(e,t,s){ht(z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function ya(e,t,s,r){let n=r.includes(".")?Ia(s,r):()=>s[r];if(Se(e)){const i=t[e];Y(i)&&Jt(n,i)}else if(Y(e))Jt(n,e.bind(s));else if(ye(e))if(z(e))e.forEach(i=>ya(i,t,s,r));else{const i=Y(e.handler)?e.handler.bind(s):t[e.handler];Y(i)&&Jt(n,i,e)}}function wa(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>yr(l,u,o,!0)),yr(l,t,o)),ye(t)&&i.set(t,l),l}function yr(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&yr(e,i,s,!0),n&&n.forEach(o=>yr(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=Dc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Dc={data:yi,props:wi,emits:wi,methods:As,computed:As,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:As,directives:As,watch:Uc,provide:yi,inject:Lc};function yi(e,t){return t?e?function(){return Le(Y(e)?e.call(this,this):e,Y(t)?t.call(this,this):t)}:t:e}function Lc(e,t){return As(fn(e),fn(t))}function fn(e){if(z(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function As(e,t){return e?Le(Object.create(null),e,t):t}function wi(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:Le(Object.create(null),mi(e),mi(t??{})):t}function Uc(e,t){if(!e)return t;if(!t)return e;const s=Le(Object.create(null),e);for(const r in t)s[r]=Ue(e[r],t[r]);return s}function ba(){return{app:null,config:{isNativeTag:Ol,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nc=0;function Fc(e,t){return function(r,n=null){Y(r)||(r=Le({},r)),n!=null&&!ye(n)&&(n=null);const i=ba(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Nc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:bu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&Y(c.install)?(o.add(c),c.install(u,...h)):Y(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||me(r,n);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Qn(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ht(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=zt;zt=u;try{return c()}finally{zt=h}}};return u}}let zt=null;function gs(e,t){if(Ce){let s=Ce.provides;const r=Ce.parent&&Ce.parent.provides;r===s&&(s=Ce.provides=Object.create(r)),s[e]=t}}function qe(e,t,s=!1){const r=Ce||De;if(r||zt){const n=zt?zt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Y(t)?t.call(r&&r.proxy):t}}function Bc(){return!!(Ce||De||zt)}const Sa={},Ea=()=>Object.create(Sa),ka=e=>Object.getPrototypeOf(e)===Sa;function Hc(e,t,s,r=!1){const n={},i=Ea();e.propsDefaults=Object.create(null),Ta(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:sa(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function qc(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=oe(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Rr(e.emitsOptions,f))continue;const p=t[f];if(l)if(le(i,f))p!==i[f]&&(i[f]=p,u=!0);else{const m=Ye(f);n[m]=dn(l,a,m,p,e,!1)}else p!==i[f]&&(i[f]=p,u=!0)}}}else{Ta(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!le(t,h)&&((c=Yt(h))===h||!le(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=dn(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!le(t,h))&&(delete i[h],u=!0)}u&&mt(e.attrs,"set","")}function Ta(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Cs(l))continue;const u=t[l];let c;n&&le(n,c=Ye(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Rr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=oe(s),u=a||_e;for(let c=0;c<i.length;c++){const h=i[c];s[h]=dn(n,l,h,u[h],e,!le(u,h))}}return o}function dn(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Y(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=er(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Yt(s))&&(r=!0))}return r}const Vc=new WeakMap;function xa(e,t,s=!1){const r=s?Vc:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!Y(e)){const c=h=>{l=!0;const[f,p]=xa(h,t,!0);Le(o,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ye(e)&&r.set(e,hs),hs;if(z(i))for(let c=0;c<i.length;c++){const h=Ye(i[c]);bi(h)&&(o[h]=_e)}else if(i)for(const c in i){const h=Ye(c);if(bi(h)){const f=i[c],p=o[h]=z(f)||Y(f)?{type:f}:Le({},f),m=p.type;let S=!1,$=!0;if(z(m))for(let L=0;L<m.length;++L){const U=m[L],C=Y(U)&&U.name;if(C==="Boolean"){S=!0;break}else C==="String"&&($=!1)}else S=Y(m)&&m.name==="Boolean";p[0]=S,p[1]=$,(S||le(p,"default"))&&a.push(h)}}const u=[o,a];return ye(e)&&r.set(e,u),u}function bi(e){return e[0]!=="$"&&!Cs(e)}const $a=e=>e[0]==="_"||e==="$stable",Jn=e=>z(e)?e.map(lt):[lt(e)],Kc=(e,t,s)=>{if(t._n)return t;const r=yt((...n)=>Jn(t(...n)),s);return r._c=!1,r},Oa=(e,t,s)=>{const r=e._ctx;for(const n in e){if($a(n))continue;const i=e[n];if(Y(i))t[n]=Kc(n,i,r);else if(i!=null){const o=Jn(i);t[n]=()=>o}}},Pa=(e,t)=>{const s=Jn(t);e.slots.default=()=>s},Aa=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},Wc=(e,t,s)=>{const r=e.slots=Ea();if(e.vnode.shapeFlag&32){const n=t._;n?(Aa(r,t,s),s&&Mo(r,"_",n,!0)):Oa(t,r)}else t&&Pa(e,t)},zc=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=_e;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Aa(n,t,s):(i=!t.$stable,Oa(t,n)),o=t}else t&&(Pa(e,t),o={default:1});if(i)for(const a in n)!$a(a)&&o[a]==null&&delete n[a]},We=au;function Jc(e){return Gc(e)}function Gc(e,t){const s=xr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=ct,insertStaticContent:m}=e,S=(d,g,_,y=null,b=null,w=null,I=void 0,R=null,P=!!g.dynamicChildren)=>{if(d===g)return;d&&!xs(d,g)&&(y=v(d),te(d,b,w,!0),d=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:x,ref:K,shapeFlag:N}=g;switch(x){case Cr:$(d,g,_,y);break;case Dt:L(d,g,_,y);break;case Wr:d==null&&U(g,_,y,I);break;case Ae:Te(d,g,_,y,b,w,I,R,P);break;default:N&1?F(d,g,_,y,b,w,I,R,P):N&6?Oe(d,g,_,y,b,w,I,R,P):(N&64||N&128)&&x.process(d,g,_,y,b,w,I,R,P,D)}K!=null&&b&&vr(K,d&&d.ref,w,g||d,!g)},$=(d,g,_,y)=>{if(d==null)r(g.el=a(g.children),_,y);else{const b=g.el=d.el;g.children!==d.children&&u(b,g.children)}},L=(d,g,_,y)=>{d==null?r(g.el=l(g.children||""),_,y):g.el=d.el},U=(d,g,_,y)=>{[d.el,d.anchor]=m(d.children,g,_,y,d.el,d.anchor)},C=({el:d,anchor:g},_,y)=>{let b;for(;d&&d!==g;)b=f(d),r(d,_,y),d=b;r(g,_,y)},A=({el:d,anchor:g})=>{let _;for(;d&&d!==g;)_=f(d),n(d),d=_;n(g)},F=(d,g,_,y,b,w,I,R,P)=>{g.type==="svg"?I="svg":g.type==="math"&&(I="mathml"),d==null?fe(g,_,y,b,w,I,R,P):Q(d,g,b,w,I,R,P)},fe=(d,g,_,y,b,w,I,R)=>{let P,x;const{props:K,shapeFlag:N,transition:H,dirs:W}=d;if(P=d.el=o(d.type,w,K&&K.is,K),N&8?c(P,d.children):N&16&&Z(d.children,P,null,y,b,Kr(d,w),I,R),W&&Ft(d,null,y,"created"),ie(P,d,d.scopeId,I,y),K){for(const de in K)de!=="value"&&!Cs(de)&&i(P,de,null,K[de],w,y);"value"in K&&i(P,"value",null,K.value,w),(x=K.onVnodeBeforeMount)&&it(x,y,d)}W&&Ft(d,null,y,"beforeMount");const ne=Yc(b,H);ne&&H.beforeEnter(P),r(P,g,_),((x=K&&K.onVnodeMounted)||ne||W)&&We(()=>{x&&it(x,y,d),ne&&H.enter(P),W&&Ft(d,null,y,"mounted")},b)},ie=(d,g,_,y,b)=>{if(_&&p(d,_),y)for(let w=0;w<y.length;w++)p(d,y[w]);if(b){let w=b.subTree;if(g===w||Da(w.type)&&(w.ssContent===g||w.ssFallback===g)){const I=b.vnode;ie(d,I,I.scopeId,I.slotScopeIds,b.parent)}}},Z=(d,g,_,y,b,w,I,R,P=0)=>{for(let x=P;x<d.length;x++){const K=d[x]=R?Ot(d[x]):lt(d[x]);S(null,K,g,_,y,b,w,I,R)}},Q=(d,g,_,y,b,w,I)=>{const R=g.el=d.el;let{patchFlag:P,dynamicChildren:x,dirs:K}=g;P|=d.patchFlag&16;const N=d.props||_e,H=g.props||_e;let W;if(_&&Bt(_,!1),(W=H.onVnodeBeforeUpdate)&&it(W,_,g,d),K&&Ft(g,d,_,"beforeUpdate"),_&&Bt(_,!0),(N.innerHTML&&H.innerHTML==null||N.textContent&&H.textContent==null)&&c(R,""),x?G(d.dynamicChildren,x,R,_,y,Kr(g,b),w):I||E(d,g,R,null,_,y,Kr(g,b),w,!1),P>0){if(P&16)J(R,N,H,_,b);else if(P&2&&N.class!==H.class&&i(R,"class",null,H.class,b),P&4&&i(R,"style",N.style,H.style,b),P&8){const ne=g.dynamicProps;for(let de=0;de<ne.length;de++){const he=ne[de],Ve=N[he],Be=H[he];(Be!==Ve||he==="value")&&i(R,he,Ve,Be,b,_)}}P&1&&d.children!==g.children&&c(R,g.children)}else!I&&x==null&&J(R,N,H,_,b);((W=H.onVnodeUpdated)||K)&&We(()=>{W&&it(W,_,g,d),K&&Ft(g,d,_,"updated")},y)},G=(d,g,_,y,b,w,I)=>{for(let R=0;R<g.length;R++){const P=d[R],x=g[R],K=P.el&&(P.type===Ae||!xs(P,x)||P.shapeFlag&70)?h(P.el):_;S(P,x,K,null,y,b,w,I,!0)}},J=(d,g,_,y,b)=>{if(g!==_){if(g!==_e)for(const w in g)!Cs(w)&&!(w in _)&&i(d,w,g[w],null,b,y);for(const w in _){if(Cs(w))continue;const I=_[w],R=g[w];I!==R&&w!=="value"&&i(d,w,R,I,b,y)}"value"in _&&i(d,"value",g.value,_.value,b)}},Te=(d,g,_,y,b,w,I,R,P)=>{const x=g.el=d?d.el:a(""),K=g.anchor=d?d.anchor:a("");let{patchFlag:N,dynamicChildren:H,slotScopeIds:W}=g;W&&(R=R?R.concat(W):W),d==null?(r(x,_,y),r(K,_,y),Z(g.children||[],_,K,b,w,I,R,P)):N>0&&N&64&&H&&d.dynamicChildren?(G(d.dynamicChildren,H,_,b,w,I,R),(g.key!=null||b&&g===b.subTree)&&Ra(d,g,!0)):E(d,g,_,K,b,w,I,R,P)},Oe=(d,g,_,y,b,w,I,R,P)=>{g.slotScopeIds=R,d==null?g.shapeFlag&512?b.ctx.activate(g,_,y,I,P):B(g,_,y,b,w,I,P):j(d,g,P)},B=(d,g,_,y,b,w,I)=>{const R=d.component=pu(d,y,b);if(fa(d)&&(R.ctx.renderer=D),gu(R,!1,I),R.asyncDep){if(b&&b.registerDep(R,k,I),!d.el){const P=R.subTree=me(Dt);L(null,P,g,_)}}else k(R,d,g,_,b,w,I)},j=(d,g,_)=>{const y=g.component=d.component;if(iu(d,g,_))if(y.asyncDep&&!y.asyncResolved){T(y,g,_);return}else y.next=g,y.update();else g.el=d.el,y.vnode=g},k=(d,g,_,y,b,w,I)=>{const R=()=>{if(d.isMounted){let{next:N,bu:H,u:W,parent:ne,vnode:de}=d;{const rt=Ca(d);if(rt){N&&(N.el=de.el,T(d,N,I)),rt.asyncDep.then(()=>{d.isUnmounted||R()});return}}let he=N,Ve;Bt(d,!1),N?(N.el=de.el,T(d,N,I)):N=de,H&&Nr(H),(Ve=N.props&&N.props.onVnodeBeforeUpdate)&&it(Ve,ne,N,de),Bt(d,!0);const Be=Ei(d),st=d.subTree;d.subTree=Be,S(st,Be,h(st.el),v(st),d,b,w),N.el=Be.el,he===null&&ou(d,Be.el),W&&We(W,b),(Ve=N.props&&N.props.onVnodeUpdated)&&We(()=>it(Ve,ne,N,de),b)}else{let N;const{el:H,props:W}=g,{bm:ne,m:de,parent:he,root:Ve,type:Be}=d,st=ps(g);Bt(d,!1),ne&&Nr(ne),!st&&(N=W&&W.onVnodeBeforeMount)&&it(N,he,g),Bt(d,!0);{Ve.ce&&Ve.ce._injectChildStyle(Be);const rt=d.subTree=Ei(d);S(null,rt,_,y,d,b,w),g.el=rt.el}if(de&&We(de,b),!st&&(N=W&&W.onVnodeMounted)){const rt=g;We(()=>it(N,he,rt),b)}(g.shapeFlag&256||he&&ps(he.vnode)&&he.vnode.shapeFlag&256)&&d.a&&We(d.a,b),d.isMounted=!0,g=_=y=null}};d.scope.on();const P=d.effect=new Ho(R);d.scope.off();const x=d.update=P.run.bind(P),K=d.job=P.runIfDirty.bind(P);K.i=d,K.id=d.uid,P.scheduler=()=>qn(K),Bt(d,!0),x()},T=(d,g,_)=>{g.component=d;const y=d.vnode.props;d.vnode=g,d.next=null,qc(d,g.props,y,_),zc(d,g.children,_),Lt(),gi(d),Ut()},E=(d,g,_,y,b,w,I,R,P=!1)=>{const x=d&&d.children,K=d?d.shapeFlag:0,N=g.children,{patchFlag:H,shapeFlag:W}=g;if(H>0){if(H&128){V(x,N,_,y,b,w,I,R,P);return}else if(H&256){q(x,N,_,y,b,w,I,R,P);return}}W&8?(K&16&&Ee(x,b,w),N!==x&&c(_,N)):K&16?W&16?V(x,N,_,y,b,w,I,R,P):Ee(x,b,w,!0):(K&8&&c(_,""),W&16&&Z(N,_,y,b,w,I,R,P))},q=(d,g,_,y,b,w,I,R,P)=>{d=d||hs,g=g||hs;const x=d.length,K=g.length,N=Math.min(x,K);let H;for(H=0;H<N;H++){const W=g[H]=P?Ot(g[H]):lt(g[H]);S(d[H],W,_,null,b,w,I,R,P)}x>K?Ee(d,b,w,!0,!1,N):Z(g,_,y,b,w,I,R,P,N)},V=(d,g,_,y,b,w,I,R,P)=>{let x=0;const K=g.length;let N=d.length-1,H=K-1;for(;x<=N&&x<=H;){const W=d[x],ne=g[x]=P?Ot(g[x]):lt(g[x]);if(xs(W,ne))S(W,ne,_,null,b,w,I,R,P);else break;x++}for(;x<=N&&x<=H;){const W=d[N],ne=g[H]=P?Ot(g[H]):lt(g[H]);if(xs(W,ne))S(W,ne,_,null,b,w,I,R,P);else break;N--,H--}if(x>N){if(x<=H){const W=H+1,ne=W<K?g[W].el:y;for(;x<=H;)S(null,g[x]=P?Ot(g[x]):lt(g[x]),_,ne,b,w,I,R,P),x++}}else if(x>H)for(;x<=N;)te(d[x],b,w,!0),x++;else{const W=x,ne=x,de=new Map;for(x=ne;x<=H;x++){const Ke=g[x]=P?Ot(g[x]):lt(g[x]);Ke.key!=null&&de.set(Ke.key,x)}let he,Ve=0;const Be=H-ne+1;let st=!1,rt=0;const ks=new Array(Be);for(x=0;x<Be;x++)ks[x]=0;for(x=W;x<=N;x++){const Ke=d[x];if(Ve>=Be){te(Ke,b,w,!0);continue}let nt;if(Ke.key!=null)nt=de.get(Ke.key);else for(he=ne;he<=H;he++)if(ks[he-ne]===0&&xs(Ke,g[he])){nt=he;break}nt===void 0?te(Ke,b,w,!0):(ks[nt-ne]=x+1,nt>=rt?rt=nt:st=!0,S(Ke,g[nt],_,null,b,w,I,R,P),Ve++)}const ui=st?Qc(ks):hs;for(he=ui.length-1,x=Be-1;x>=0;x--){const Ke=ne+x,nt=g[Ke],hi=Ke+1<K?g[Ke+1].el:y;ks[x]===0?S(null,nt,_,hi,b,w,I,R,P):st&&(he<0||x!==ui[he]?ee(nt,_,hi,2):he--)}}},ee=(d,g,_,y,b=null)=>{const{el:w,type:I,transition:R,children:P,shapeFlag:x}=d;if(x&6){ee(d.component.subTree,g,_,y);return}if(x&128){d.suspense.move(g,_,y);return}if(x&64){I.move(d,g,_,D);return}if(I===Ae){r(w,g,_);for(let N=0;N<P.length;N++)ee(P[N],g,_,y);r(d.anchor,g,_);return}if(I===Wr){C(d,g,_);return}if(y!==2&&x&1&&R)if(y===0)R.beforeEnter(w),r(w,g,_),We(()=>R.enter(w),b);else{const{leave:N,delayLeave:H,afterLeave:W}=R,ne=()=>r(w,g,_),de=()=>{N(w,()=>{ne(),W&&W()})};H?H(w,ne,de):de()}else r(w,g,_)},te=(d,g,_,y=!1,b=!1)=>{const{type:w,props:I,ref:R,children:P,dynamicChildren:x,shapeFlag:K,patchFlag:N,dirs:H,cacheIndex:W}=d;if(N===-2&&(b=!1),R!=null&&vr(R,null,_,d,!0),W!=null&&(g.renderCache[W]=void 0),K&256){g.ctx.deactivate(d);return}const ne=K&1&&H,de=!ps(d);let he;if(de&&(he=I&&I.onVnodeBeforeUnmount)&&it(he,g,d),K&6)Pe(d.component,_,y);else{if(K&128){d.suspense.unmount(_,y);return}ne&&Ft(d,null,g,"beforeUnmount"),K&64?d.type.remove(d,g,_,D,y):x&&!x.hasOnce&&(w!==Ae||N>0&&N&64)?Ee(x,g,_,!1,!0):(w===Ae&&N&384||!b&&K&16)&&Ee(P,g,_),y&&ve(d)}(de&&(he=I&&I.onVnodeUnmounted)||ne)&&We(()=>{he&&it(he,g,d),ne&&Ft(d,null,g,"unmounted")},_)},ve=d=>{const{type:g,el:_,anchor:y,transition:b}=d;if(g===Ae){we(_,y);return}if(g===Wr){A(d);return}const w=()=>{n(_),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:I,delayLeave:R}=b,P=()=>I(_,w);R?R(d.el,w,P):P()}else w()},we=(d,g)=>{let _;for(;d!==g;)_=f(d),n(d),d=_;n(g)},Pe=(d,g,_)=>{const{bum:y,scope:b,job:w,subTree:I,um:R,m:P,a:x}=d;Si(P),Si(x),y&&Nr(y),b.stop(),w&&(w.flags|=8,te(I,d,g,_)),R&&We(R,g),We(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Ee=(d,g,_,y=!1,b=!1,w=0)=>{for(let I=w;I<d.length;I++)te(d[I],g,_,y,b)},v=d=>{if(d.shapeFlag&6)return v(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=f(d.anchor||d.el),_=g&&g[yc];return _?f(_):g};let M=!1;const O=(d,g,_)=>{d==null?g._vnode&&te(g._vnode,null,null,!0):S(g._vnode||null,d,g,null,null,null,_),g._vnode=d,M||(M=!0,gi(),la(),M=!1)},D={p:S,um:te,m:ee,r:ve,mt:B,mc:Z,pc:E,pbc:G,n:v,o:e};return{render:O,hydrate:void 0,createApp:Fc(O)}}function Kr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Bt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ra(e,t,s=!1){const r=e.children,n=t.children;if(z(r)&&z(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ot(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ra(o,a)),a.type===Cr&&(a.el=o.el)}}function Qc(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Ca(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ca(t)}function Si(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Xc=Symbol.for("v-scx"),Zc=()=>qe(Xc);function Jt(e,t,s){return ja(e,t,s)}function ja(e,t,s=_e){const{immediate:r,deep:n,flush:i,once:o}=s,a=Le({},s),l=t&&r||!t&&i!=="post";let u;if(Gs){if(i==="sync"){const p=Zc();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ct,p.resume=ct,p.pause=ct,p}}const c=Ce;a.call=(p,m,S)=>ht(p,c,m,S);let h=!1;i==="post"?a.scheduler=p=>{We(p,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,m)=>{m?p():qn(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=gc(e,t,a);return Gs&&(u?u.push(f):l&&f()),f}function eu(e,t,s){const r=this.proxy,n=Se(e)?e.includes(".")?Ia(r,e):()=>r[e]:e.bind(r,r);let i;Y(t)?i=t:(i=t.handler,s=t);const o=er(this),a=ja(n,i.bind(r),s);return o(),a}function Ia(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const tu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ye(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function su(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||_e;let n=s;const i=t.startsWith("update:"),o=i&&tu(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>Se(c)?c.trim():c)),o.number&&(n=s.map(jl)));let a,l=r[a=Ur(t)]||r[a=Ur(Ye(t))];!l&&i&&(l=r[a=Ur(Yt(t))]),l&&ht(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(u,e,6,n)}}function Ma(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!Y(e)){const l=u=>{const c=Ma(u,t,!0);c&&(a=!0,Le(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ye(e)&&r.set(e,null),null):(z(i)?i.forEach(l=>o[l]=null):Le(o,i),ye(e)&&r.set(e,o),o)}function Rr(e,t){return!e||!Sr(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Yt(t))||le(e,t))}function Ei(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:m,inheritAttrs:S}=e,$=mr(e);let L,U;try{if(s.shapeFlag&4){const A=n||r,F=A;L=lt(u.call(F,A,c,h,p,f,m)),U=a}else{const A=t;L=lt(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),U=t.props?a:ru(a)}}catch(A){Ls.length=0,Or(A,e,1),L=me(Dt)}let C=L;if(U&&S!==!1){const A=Object.keys(U),{shapeFlag:F}=C;A.length&&F&7&&(i&&A.some(An)&&(U=nu(U,i)),C=ms(C,U,!1,!0))}return s.dirs&&(C=ms(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&Vn(C,s.transition),L=C,mr($),L}const ru=e=>{let t;for(const s in e)(s==="class"||s==="style"||Sr(s))&&((t||(t={}))[s]=e[s]);return t},nu=(e,t)=>{const s={};for(const r in e)(!An(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function iu(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?ki(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Rr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ki(r,o,u):!0:!!o;return!1}function ki(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!Rr(s,i))return!0}return!1}function ou({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const Da=e=>e.__isSuspense;function au(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):vc(e)}const Ae=Symbol.for("v-fgt"),Cr=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),Wr=Symbol.for("v-stc"),Ls=[];let Je=null;function ue(e=!1){Ls.push(Je=e?null:[])}function lu(){Ls.pop(),Je=Ls[Ls.length-1]||null}let zs=1;function Ti(e,t=!1){zs+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function La(e){return e.dynamicChildren=zs>0?Je||hs:null,lu(),zs>0&&Je&&Je.push(e),e}function ke(e,t,s,r,n,i){return La(ce(e,t,s,r,n,i,!0))}function et(e,t,s,r,n){return La(me(e,t,s,r,n,!0))}function Js(e){return e?e.__v_isVNode===!0:!1}function xs(e,t){return e.type===t.type&&e.key===t.key}const Ua=({key:e})=>e??null,ur=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Se(e)||be(e)||Y(e)?{i:De,r:e,k:t,f:!!s}:e:null);function ce(e,t=null,s=null,r=0,n=null,i=e===Ae?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ua(t),ref:t&&ur(t),scopeId:ua,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:De};return a?(Yn(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Se(s)?8:16),zs>0&&!o&&Je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Je.push(l),l}const me=cu;function cu(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===_a)&&(e=Dt),Js(e)){const a=ms(e,t,!0);return s&&Yn(a,s),zs>0&&!i&&Je&&(a.shapeFlag&6?Je[Je.indexOf(e)]=a:Je.push(a)),a.patchFlag=-2,a}if(wu(e)&&(e=e.__vccOpts),t){t=uu(t);let{class:a,style:l}=t;a&&!Se(a)&&(t.class=In(a)),ye(l)&&(Bn(l)&&!z(l)&&(l=Le({},l)),t.style=jn(l))}const o=Se(e)?1:Da(e)?128:wc(e)?64:ye(e)?4:Y(e)?2:0;return ce(e,t,s,r,n,o,i,!0)}function uu(e){return e?Bn(e)||ka(e)?Le({},e):e:null}function ms(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?hu(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Ua(u),ref:t&&t.ref?s&&i?z(i)?i.concat(ur(t)):[i,ur(t)]:ur(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ms(e.ssContent),ssFallback:e.ssFallback&&ms(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Vn(c,l.clone(c)),c}function ut(e=" ",t=0){return me(Cr,null,e,t)}function Gn(e="",t=!1){return t?(ue(),et(Dt,null,e)):me(Dt,null,e)}function lt(e){return e==null||typeof e=="boolean"?me(Dt):z(e)?me(Ae,null,e.slice()):Js(e)?Ot(e):me(Cr,null,String(e))}function Ot(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ms(e)}function Yn(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(z(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),Yn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ka(t)?t._ctx=De:n===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Y(t)?(t={default:t,_ctx:De},s=32):(t=String(t),r&64?(s=16,t=[ut(t)]):s=8);e.children=t,e.shapeFlag|=s}function hu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=In([t.class,r.class]));else if(n==="style")t.style=jn([t.style,r.style]);else if(Sr(n)){const i=t[n],o=r[n];o&&i!==o&&!(z(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function it(e,t,s,r=null){ht(e,t,7,[s,r])}const fu=ba();let du=0;function pu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||fu,i={uid:du++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new No(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xa(r,n),emitsOptions:Ma(r,n),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:r.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=su.bind(null,i),e.ce&&e.ce(i),i}let Ce=null,wr,pn;{const e=xr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};wr=t("__VUE_INSTANCE_SETTERS__",s=>Ce=s),pn=t("__VUE_SSR_SETTERS__",s=>Gs=s)}const er=e=>{const t=Ce;return wr(e),e.scope.on(),()=>{e.scope.off(),wr(t)}},xi=()=>{Ce&&Ce.scope.off(),wr(null)};function Na(e){return e.vnode.shapeFlag&4}let Gs=!1;function gu(e,t=!1,s=!1){t&&pn(t);const{props:r,children:n}=e.vnode,i=Na(e);Hc(e,r,i,t),Wc(e,n,s);const o=i?_u(e,t):void 0;return t&&pn(!1),o}function _u(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jc);const{setup:r}=s;if(r){Lt();const n=e.setupContext=r.length>1?vu(e):null,i=er(e),o=Zs(r,e,0,[e.props,n]),a=Co(o);if(Ut(),i(),(a||e.sp)&&!ps(e)&&ha(e),a){if(o.then(xi,xi),t)return o.then(l=>{$i(e,l)}).catch(l=>{Or(l,e,0)});e.asyncDep=o}else $i(e,o)}else Fa(e)}function $i(e,t,s){Y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=ia(t)),Fa(e)}function Fa(e,t,s){const r=e.type;e.render||(e.render=r.render||ct);{const n=er(e);Lt();try{Ic(e)}finally{Ut(),n()}}}const mu={get(e,t){return Ie(e,"get",""),e[t]}};function vu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,mu),slots:e.slots,emit:e.emit,expose:t}}function Qn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ia(Hn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ds)return Ds[s](e)},has(t,s){return s in t||s in Ds}})):e.proxy}function yu(e,t=!0){return Y(e)?e.displayName||e.name:e.name||t&&e.__name}function wu(e){return Y(e)&&"__vccOpts"in e}const je=(e,t)=>dc(e,t,Gs);function Ba(e,t,s){const r=arguments.length;return r===2?ye(t)&&!z(t)?Js(t)?me(e,null,[t]):me(e,t):me(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Js(s)&&(s=[s]),me(e,t,s))}const bu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gn;const Oi=typeof window<"u"&&window.trustedTypes;if(Oi)try{gn=Oi.createPolicy("vue",{createHTML:e=>e})}catch{}const Ha=gn?e=>gn.createHTML(e):e=>e,Su="http://www.w3.org/2000/svg",Eu="http://www.w3.org/1998/Math/MathML",gt=typeof document<"u"?document:null,Pi=gt&&gt.createElement("template"),ku={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?gt.createElementNS(Su,e):t==="mathml"?gt.createElementNS(Eu,e):s?gt.createElement(e,{is:s}):gt.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>gt.createTextNode(e),createComment:e=>gt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Pi.innerHTML=Ha(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Pi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Tu=Symbol("_vtc");function xu(e,t,s){const r=e[Tu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ai=Symbol("_vod"),$u=Symbol("_vsh"),Ou=Symbol(""),Pu=/(^|;)\s*display\s*:/;function Au(e,t,s){const r=e.style,n=Se(s);let i=!1;if(s&&!n){if(t)if(Se(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&hr(r,a,"")}else for(const o in t)s[o]==null&&hr(r,o,"");for(const o in s)o==="display"&&(i=!0),hr(r,o,s[o])}else if(n){if(t!==s){const o=r[Ou];o&&(s+=";"+o),r.cssText=s,i=Pu.test(s)}}else t&&e.removeAttribute("style");Ai in e&&(e[Ai]=i?r.display:"",e[$u]&&(r.display="none"))}const Ri=/\s*!important$/;function hr(e,t,s){if(z(s))s.forEach(r=>hr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Ru(e,t);Ri.test(s)?e.setProperty(Yt(r),s.replace(Ri,""),"important"):e[r]=s}}const Ci=["Webkit","Moz","ms"],zr={};function Ru(e,t){const s=zr[t];if(s)return s;let r=Ye(t);if(r!=="filter"&&r in e)return zr[t]=r;r=Tr(r);for(let n=0;n<Ci.length;n++){const i=Ci[n]+r;if(i in e)return zr[t]=i}return t}const ji="http://www.w3.org/1999/xlink";function Ii(e,t,s,r,n,i=Nl(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ji,t.slice(6,t.length)):e.setAttributeNS(ji,t,s):s==null||i&&!Do(s)?e.removeAttribute(t):e.setAttribute(t,i?"":bt(s)?String(s):s)}function Mi(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ha(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Do(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function Cu(e,t,s,r){e.addEventListener(t,s,r)}function ju(e,t,s,r){e.removeEventListener(t,s,r)}const Di=Symbol("_vei");function Iu(e,t,s,r,n=null){const i=e[Di]||(e[Di]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Mu(t);if(r){const u=i[t]=Uu(r,n);Cu(e,a,u,l)}else o&&(ju(e,a,o,l),i[t]=void 0)}}const Li=/(?:Once|Passive|Capture)$/;function Mu(e){let t;if(Li.test(e)){t={};let r;for(;r=e.match(Li);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let Jr=0;const Du=Promise.resolve(),Lu=()=>Jr||(Du.then(()=>Jr=0),Jr=Date.now());function Uu(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ht(Nu(r,s.value),t,5,[r])};return s.value=e,s.attached=Lu(),s}function Nu(e,t){if(z(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const Ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fu=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?xu(e,r,o):t==="style"?Au(e,s,r):Sr(t)?An(t)||Iu(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bu(e,t,r,o))?(Mi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ii(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Se(r))?Mi(e,Ye(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ii(e,t,r,o))};function Bu(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ui(t)&&Y(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ui(t)&&Se(s)?!1:t in e}const Hu=["ctrl","shift","alt","meta"],qu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hu.some(s=>e[`${s}Key`]&&!t.includes(s))},Xn=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=qu[t[o]];if(a&&a(n,t))return}return e(n,...i)})},Vu=Le({patchProp:Fu},ku);let Ni;function Ku(){return Ni||(Ni=Jc(Vu))}const Wu=(...e)=>{const t=Ku().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Ju(r);if(!n)return;const i=t._component;!Y(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,zu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function zu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ju(e){return Se(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let qa;const jr=e=>qa=e,Va=Symbol();function _n(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Us;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Us||(Us={}));function Gu(){const e=Fo(!0),t=e.run(()=>wt({}));let s=[],r=[];const n=Hn({install(i){jr(n),n._a=i,i.provide(Va,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const Ka=()=>{};function Fi(e,t,s,r=Ka){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&Bo()&&Fl(n),n}function Zt(e,...t){e.slice().forEach(s=>{s(...t)})}const Yu=e=>e(),Bi=Symbol(),Gr=Symbol();function mn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];_n(n)&&_n(r)&&e.hasOwnProperty(s)&&!be(r)&&!Mt(r)?e[s]=mn(n,r):e[s]=r}return e}const Qu=Symbol();function Xu(e){return!_n(e)||!Object.prototype.hasOwnProperty.call(e,Qu)}const{assign:kt}=Object;function Zu(e){return!!(be(e)&&e.effect)}function eh(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const c=cc(s.state.value[e]);return kt(c,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Hn(je(()=>{jr(s);const p=s._s.get(e);return o[f].call(p,p)})),h),{}))}return l=Wa(e,u,t,s,r,!0),l}function Wa(e,t,s={},r,n,i){let o;const a=kt({actions:{}},s),l={deep:!0};let u,c,h=[],f=[],p;const m=r.state.value[e];!i&&!m&&(r.state.value[e]={}),wt({});let S;function $(Z){let Q;u=c=!1,typeof Z=="function"?(Z(r.state.value[e]),Q={type:Us.patchFunction,storeId:e,events:p}):(mn(r.state.value[e],Z),Q={type:Us.patchObject,payload:Z,storeId:e,events:p});const G=S=Symbol();Pr().then(()=>{S===G&&(u=!0)}),c=!0,Zt(h,Q,r.state.value[e])}const L=i?function(){const{state:Q}=s,G=Q?Q():{};this.$patch(J=>{kt(J,G)})}:Ka;function U(){o.stop(),h=[],f=[],r._s.delete(e)}const C=(Z,Q="")=>{if(Bi in Z)return Z[Gr]=Q,Z;const G=function(){jr(r);const J=Array.from(arguments),Te=[],Oe=[];function B(T){Te.push(T)}function j(T){Oe.push(T)}Zt(f,{args:J,name:G[Gr],store:F,after:B,onError:j});let k;try{k=Z.apply(this&&this.$id===e?this:F,J)}catch(T){throw Zt(Oe,T),T}return k instanceof Promise?k.then(T=>(Zt(Te,T),T)).catch(T=>(Zt(Oe,T),Promise.reject(T))):(Zt(Te,k),k)};return G[Bi]=!0,G[Gr]=Q,G},A={_p:r,$id:e,$onAction:Fi.bind(null,f),$patch:$,$reset:L,$subscribe(Z,Q={}){const G=Fi(h,Z,Q.detached,()=>J()),J=o.run(()=>Jt(()=>r.state.value[e],Te=>{(Q.flush==="sync"?c:u)&&Z({storeId:e,type:Us.direct,events:p},Te)},kt({},l,Q)));return G},$dispose:U},F=Ss(A);r._s.set(e,F);const ie=(r._a&&r._a.runWithContext||Yu)(()=>r._e.run(()=>(o=Fo()).run(()=>t({action:C}))));for(const Z in ie){const Q=ie[Z];if(be(Q)&&!Zu(Q)||Mt(Q))i||(m&&Xu(Q)&&(be(Q)?Q.value=m[Z]:mn(Q,m[Z])),r.state.value[e][Z]=Q);else if(typeof Q=="function"){const G=C(Q,Z);ie[Z]=G,a.actions[Z]=Q}}return kt(F,ie),kt(oe(F),ie),Object.defineProperty(F,"$state",{get:()=>r.state.value[e],set:Z=>{$(Q=>{kt(Q,Z)})}}),r._p.forEach(Z=>{kt(F,o.run(()=>Z({store:F,app:r._a,pinia:r,options:a})))}),m&&i&&s.hydrate&&s.hydrate(F.$state,m),u=!0,c=!0,F}/*! #__NO_SIDE_EFFECTS__ */function Zn(e,t,s){let r;const n=typeof t=="function";r=n?s:t;function i(o,a){const l=Bc();return o=o||(l?qe(Va,null):null),o&&jr(o),o=qa,o._s.has(e)||(n?Wa(e,t,r,o):eh(e,r,o)),o._s.get(e)}return i.$id=e,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const cs=typeof document<"u";function za(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function th(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&za(e.default)}const ae=Object.assign;function Yr(e,t){const s={};for(const r in t){const n=t[r];s[r]=tt(n)?n.map(e):e(n)}return s}const Ns=()=>{},tt=Array.isArray,Ja=/#/g,sh=/&/g,rh=/\//g,nh=/=/g,ih=/\?/g,Ga=/\+/g,oh=/%5B/g,ah=/%5D/g,Ya=/%5E/g,lh=/%60/g,Qa=/%7B/g,ch=/%7C/g,Xa=/%7D/g,uh=/%20/g;function ei(e){return encodeURI(""+e).replace(ch,"|").replace(oh,"[").replace(ah,"]")}function hh(e){return ei(e).replace(Qa,"{").replace(Xa,"}").replace(Ya,"^")}function vn(e){return ei(e).replace(Ga,"%2B").replace(uh,"+").replace(Ja,"%23").replace(sh,"%26").replace(lh,"`").replace(Qa,"{").replace(Xa,"}").replace(Ya,"^")}function fh(e){return vn(e).replace(nh,"%3D")}function dh(e){return ei(e).replace(Ja,"%23").replace(ih,"%3F")}function ph(e){return e==null?"":dh(e).replace(rh,"%2F")}function Ys(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const gh=/\/$/,_h=e=>e.replace(gh,"");function Qr(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=wh(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Ys(o)}}function mh(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Hi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function vh(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&vs(t.matched[r],s.matched[n])&&Za(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function vs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Za(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!yh(e[s],t[s]))return!1;return!0}function yh(e,t){return tt(e)?qi(e,t):tt(t)?qi(t,e):e===t}function qi(e,t){return tt(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function wh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Et={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qs;(function(e){e.pop="pop",e.push="push"})(Qs||(Qs={}));var Fs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fs||(Fs={}));function bh(e){if(!e)if(cs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_h(e)}const Sh=/^[^#]+#/;function Eh(e,t){return e.replace(Sh,"#")+t}function kh(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function Th(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=kh(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Vi(e,t){return(history.state?history.state.position-t:-1)+e}const yn=new Map;function xh(e,t){yn.set(e,t)}function $h(e){const t=yn.get(e);return yn.delete(e),t}let Oh=()=>location.protocol+"//"+location.host;function el(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Hi(l,"")}return Hi(s,e)+r+n}function Ph(e,t,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const p=el(e,location),m=s.value,S=t.value;let $=0;if(f){if(s.value=p,t.value=f,o&&o===m){o=null;return}$=S?f.position-S.position:0}else r(p);n.forEach(L=>{L(s.value,m,{delta:$,type:Qs.pop,direction:$?$>0?Fs.forward:Fs.back:Fs.unknown})})};function l(){o=s.value}function u(f){n.push(f);const p=()=>{const m=n.indexOf(f);m>-1&&n.splice(m,1)};return i.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(ae({},f.state,{scroll:Ir()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Ki(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Ir():null}}function Ah(e){const{history:t,location:s}=window,r={value:el(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:Oh()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(p){console.error(p),s[c?"replace":"assign"](f)}}function o(l,u){const c=ae({},t.state,Ki(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=ae({},n.value,t.state,{forward:l,scroll:Ir()});i(c.current,c,!0);const h=ae({},Ki(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Rh(e){e=bh(e);const t=Ah(e),s=Ph(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ae({location:"",base:e,go:r,createHref:Eh.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Ch(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Rh(e)}function jh(e){return typeof e=="string"||e&&typeof e=="object"}function tl(e){return typeof e=="string"||typeof e=="symbol"}const sl=Symbol("");var Wi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Wi||(Wi={}));function ys(e,t){return ae(new Error,{type:e,[sl]:!0},t)}function pt(e,t){return e instanceof Error&&sl in e&&(t==null||!!(e.type&t))}const zi="[^/]+?",Ih={sensitive:!1,strict:!1,start:!0,end:!0},Mh=/[.+*?^${}()[\]/\\]/g;function Dh(e,t){const s=ae({},Ih,t),r=[];let n=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(Mh,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:S,optional:$,regexp:L}=f;i.push({name:m,repeatable:S,optional:$});const U=L||zi;if(U!==zi){p+=10;try{new RegExp(`(${U})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${m}" (${U}): `+A.message)}}let C=S?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;h||(C=$&&u.length<2?`(?:/${C})`:"/"+C),$&&(C+="?"),n+=C,p+=20,$&&(p+=-8),S&&(p+=-20),U===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:S,optional:$}=p,L=m in u?u[m]:"";if(tt(L)&&!S)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const U=tt(L)?L.join("/"):L;if(!U)if($)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);c+=U}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Lh(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function rl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=Lh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Ji(r))return 1;if(Ji(n))return-1}return n.length-r.length}function Ji(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Uh={type:0,value:""},Nh=/[a-zA-Z0-9_]/;function Fh(e){if(!e)return[[]];if(e==="/")return[[Uh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:Nh.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function Bh(e,t,s){const r=Dh(Fh(e.path),s),n=ae(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Hh(e,t){const s=[],r=new Map;t=Xi({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,f,p){const m=!p,S=Yi(h);S.aliasOf=p&&p.record;const $=Xi(t,h),L=[S];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of A)L.push(Yi(ae({},S,{components:p?p.record.components:S.components,path:F,aliasOf:p?p.record:S})))}let U,C;for(const A of L){const{path:F}=A;if(f&&F[0]!=="/"){const fe=f.record.path,ie=fe[fe.length-1]==="/"?"":"/";A.path=f.record.path+(F&&ie+F)}if(U=Bh(A,f,$),p?p.alias.push(U):(C=C||U,C!==U&&C.alias.push(U),m&&h.name&&!Qi(U)&&o(h.name)),nl(U)&&l(U),S.children){const fe=S.children;for(let ie=0;ie<fe.length;ie++)i(fe[ie],U,p&&p.children[ie])}p=p||U}return C?()=>{o(C)}:Ns}function o(h){if(tl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=Kh(h,s);s.splice(f,0,h),h.record.name&&!Qi(h)&&r.set(h.record.name,h)}function u(h,f){let p,m={},S,$;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw ys(1,{location:h});$=p.record.name,m=ae(Gi(f.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&Gi(h.params,p.keys.map(C=>C.name))),S=p.stringify(m)}else if(h.path!=null)S=h.path,p=s.find(C=>C.re.test(S)),p&&(m=p.parse(S),$=p.record.name);else{if(p=f.name?r.get(f.name):s.find(C=>C.re.test(f.path)),!p)throw ys(1,{location:h,currentLocation:f});$=p.record.name,m=ae({},f.params,h.params),S=p.stringify(m)}const L=[];let U=p;for(;U;)L.unshift(U.record),U=U.parent;return{name:$,path:S,params:m,matched:L,meta:Vh(L)}}e.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Gi(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Yi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:qh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function qh(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Qi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vh(e){return e.reduce((t,s)=>ae(t,s.meta),{})}function Xi(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function Kh(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;rl(e,t[i])<0?r=i:s=i+1}const n=Wh(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function Wh(e){let t=e;for(;t=t.parent;)if(nl(t)&&rl(e,t)===0)return t}function nl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Ga," "),o=i.indexOf("="),a=Ys(o<0?i:i.slice(0,o)),l=o<0?null:Ys(i.slice(o+1));if(a in t){let u=t[a];tt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Zi(e){let t="";for(let s in e){const r=e[s];if(s=fh(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(tt(r)?r.map(i=>i&&vn(i)):[r&&vn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Jh(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=tt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const Gh=Symbol(""),eo=Symbol(""),Mr=Symbol(""),ti=Symbol(""),wn=Symbol("");function $s(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Pt(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(ys(4,{from:s,to:t})):f instanceof Error?l(f):jh(f)?l(ys(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>e.call(r&&r.instances[n],t,s,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Xr(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(za(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Pt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=th(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Pt(p,s,r,o,a,n)()}))}}return i}function to(e){const t=qe(Mr),s=qe(ti),r=je(()=>{const l=Re(e.to);return t.resolve(l)}),n=je(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(vs.bind(null,c));if(f>-1)return f;const p=so(l[u-2]);return u>1&&so(c)===p&&h[h.length-1].path!==p?h.findIndex(vs.bind(null,l[u-2])):f}),i=je(()=>n.value>-1&&ef(s.params,r.value.params)),o=je(()=>n.value>-1&&n.value===s.matched.length-1&&Za(s.params,r.value.params));function a(l={}){if(Zh(l)){const u=t[Re(e.replace)?"replace":"push"](Re(e.to)).catch(Ns);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:je(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Yh(e){return e.length===1?e[0]:e}const Qh=ft({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:to,setup(e,{slots:t}){const s=Ss(to(e)),{options:r}=qe(Mr),n=je(()=>({[ro(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[ro(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Yh(t.default(s));return e.custom?i:Ba("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Xh=Qh;function Zh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ef(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!tt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function so(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ro=(e,t,s)=>e??t??s,tf=ft({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=qe(wn),n=je(()=>e.route||r.value),i=qe(eo,0),o=je(()=>{let u=Re(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=je(()=>n.value.matched[o.value]);gs(eo,je(()=>o.value+1)),gs(Gh,a),gs(wn,n);const l=wt();return Jt(()=>[l.value,a.value,e.name],([u,c,h],[f,p,m])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!vs(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,f=h&&h.components[c];if(!f)return no(s.default,{Component:f,route:u});const p=h.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,$=Ba(f,ae({},m,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return no(s.default,{Component:$,route:u})||$}}});function no(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const sf=tf;function rf(e){const t=Hh(e.routes,e),s=e.parseQuery||zh,r=e.stringifyQuery||Zi,n=e.history,i=$s(),o=$s(),a=$s(),l=oc(Et);let u=Et;cs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Yr.bind(null,v=>""+v),h=Yr.bind(null,ph),f=Yr.bind(null,Ys);function p(v,M){let O,D;return tl(v)?(O=t.getRecordMatcher(v),D=M):D=v,t.addRoute(D,O)}function m(v){const M=t.getRecordMatcher(v);M&&t.removeRoute(M)}function S(){return t.getRoutes().map(v=>v.record)}function $(v){return!!t.getRecordMatcher(v)}function L(v,M){if(M=ae({},M||l.value),typeof v=="string"){const _=Qr(s,v,M.path),y=t.resolve({path:_.path},M),b=n.createHref(_.fullPath);return ae(_,y,{params:f(y.params),hash:Ys(_.hash),redirectedFrom:void 0,href:b})}let O;if(v.path!=null)O=ae({},v,{path:Qr(s,v.path,M.path).path});else{const _=ae({},v.params);for(const y in _)_[y]==null&&delete _[y];O=ae({},v,{params:h(_)}),M.params=h(M.params)}const D=t.resolve(O,M),se=v.hash||"";D.params=c(f(D.params));const d=mh(r,ae({},v,{hash:hh(se),path:D.path})),g=n.createHref(d);return ae({fullPath:d,hash:se,query:r===Zi?Jh(v.query):v.query||{}},D,{redirectedFrom:void 0,href:g})}function U(v){return typeof v=="string"?Qr(s,v,l.value.path):ae({},v)}function C(v,M){if(u!==v)return ys(8,{from:M,to:v})}function A(v){return ie(v)}function F(v){return A(ae(U(v),{replace:!0}))}function fe(v){const M=v.matched[v.matched.length-1];if(M&&M.redirect){const{redirect:O}=M;let D=typeof O=="function"?O(v):O;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=U(D):{path:D},D.params={}),ae({query:v.query,hash:v.hash,params:D.path!=null?{}:v.params},D)}}function ie(v,M){const O=u=L(v),D=l.value,se=v.state,d=v.force,g=v.replace===!0,_=fe(O);if(_)return ie(ae(U(_),{state:typeof _=="object"?ae({},se,_.state):se,force:d,replace:g}),M||O);const y=O;y.redirectedFrom=M;let b;return!d&&vh(r,D,O)&&(b=ys(16,{to:y,from:D}),ee(D,D,!0,!1)),(b?Promise.resolve(b):G(y,D)).catch(w=>pt(w)?pt(w,2)?w:V(w):E(w,y,D)).then(w=>{if(w){if(pt(w,2))return ie(ae({replace:g},U(w.to),{state:typeof w.to=="object"?ae({},se,w.to.state):se,force:d}),M||y)}else w=Te(y,D,!0,g,se);return J(y,D,w),w})}function Z(v,M){const O=C(v,M);return O?Promise.reject(O):Promise.resolve()}function Q(v){const M=we.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(v):v()}function G(v,M){let O;const[D,se,d]=nf(v,M);O=Xr(D.reverse(),"beforeRouteLeave",v,M);for(const _ of D)_.leaveGuards.forEach(y=>{O.push(Pt(y,v,M))});const g=Z.bind(null,v,M);return O.push(g),Ee(O).then(()=>{O=[];for(const _ of i.list())O.push(Pt(_,v,M));return O.push(g),Ee(O)}).then(()=>{O=Xr(se,"beforeRouteUpdate",v,M);for(const _ of se)_.updateGuards.forEach(y=>{O.push(Pt(y,v,M))});return O.push(g),Ee(O)}).then(()=>{O=[];for(const _ of d)if(_.beforeEnter)if(tt(_.beforeEnter))for(const y of _.beforeEnter)O.push(Pt(y,v,M));else O.push(Pt(_.beforeEnter,v,M));return O.push(g),Ee(O)}).then(()=>(v.matched.forEach(_=>_.enterCallbacks={}),O=Xr(d,"beforeRouteEnter",v,M,Q),O.push(g),Ee(O))).then(()=>{O=[];for(const _ of o.list())O.push(Pt(_,v,M));return O.push(g),Ee(O)}).catch(_=>pt(_,8)?_:Promise.reject(_))}function J(v,M,O){a.list().forEach(D=>Q(()=>D(v,M,O)))}function Te(v,M,O,D,se){const d=C(v,M);if(d)return d;const g=M===Et,_=cs?history.state:{};O&&(D||g?n.replace(v.fullPath,ae({scroll:g&&_&&_.scroll},se)):n.push(v.fullPath,se)),l.value=v,ee(v,M,O,g),V()}let Oe;function B(){Oe||(Oe=n.listen((v,M,O)=>{if(!Pe.listening)return;const D=L(v),se=fe(D);if(se){ie(ae(se,{replace:!0,force:!0}),D).catch(Ns);return}u=D;const d=l.value;cs&&xh(Vi(d.fullPath,O.delta),Ir()),G(D,d).catch(g=>pt(g,12)?g:pt(g,2)?(ie(ae(U(g.to),{force:!0}),D).then(_=>{pt(_,20)&&!O.delta&&O.type===Qs.pop&&n.go(-1,!1)}).catch(Ns),Promise.reject()):(O.delta&&n.go(-O.delta,!1),E(g,D,d))).then(g=>{g=g||Te(D,d,!1),g&&(O.delta&&!pt(g,8)?n.go(-O.delta,!1):O.type===Qs.pop&&pt(g,20)&&n.go(-1,!1)),J(D,d,g)}).catch(Ns)}))}let j=$s(),k=$s(),T;function E(v,M,O){V(v);const D=k.list();return D.length?D.forEach(se=>se(v,M,O)):console.error(v),Promise.reject(v)}function q(){return T&&l.value!==Et?Promise.resolve():new Promise((v,M)=>{j.add([v,M])})}function V(v){return T||(T=!v,B(),j.list().forEach(([M,O])=>v?O(v):M()),j.reset()),v}function ee(v,M,O,D){const{scrollBehavior:se}=e;if(!cs||!se)return Promise.resolve();const d=!O&&$h(Vi(v.fullPath,0))||(D||!O)&&history.state&&history.state.scroll||null;return Pr().then(()=>se(v,M,d)).then(g=>g&&Th(g)).catch(g=>E(g,v,M))}const te=v=>n.go(v);let ve;const we=new Set,Pe={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:S,resolve:L,options:e,push:A,replace:F,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:k.add,isReady:q,install(v){const M=this;v.component("RouterLink",Xh),v.component("RouterView",sf),v.config.globalProperties.$router=M,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Re(l)}),cs&&!ve&&l.value===Et&&(ve=!0,A(n.location).catch(se=>{}));const O={};for(const se in Et)Object.defineProperty(O,se,{get:()=>l.value[se],enumerable:!0});v.provide(Mr,M),v.provide(ti,sa(O)),v.provide(wn,l);const D=v.unmount;we.add(v),v.unmount=function(){we.delete(v),we.size<1&&(u=Et,Oe&&Oe(),Oe=null,l.value=Et,ve=!1,T=!1),D()}}};function Ee(v){return v.reduce((M,O)=>M.then(()=>Q(O)),Promise.resolve())}return Pe}function nf(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>vs(u,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>vs(u,l))||n.push(l))}return[s,r,n]}function si(){return qe(Mr)}function ri(e){return qe(ti)}const of="modulepreload",af=function(e){return"/vue-online-chat/"+e},io={},ws=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=af(u),u in io)return;io[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":of,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},lf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class ni extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class cf extends ni{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uf extends ni{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hf extends ni{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bn||(bn={}));var ff=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class df{constructor(t,{headers:s={},customFetch:r,region:n=bn.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=lf(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return ff(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(m=>{throw new cf(m)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new uf(c);if(!c.ok)throw new hf(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var xe={},es={},ts={},ss={},rs={},ns={},gf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=gf();const _f=bs.fetch,ol=bs.fetch.bind(bs),al=bs.Headers,mf=bs.Request,vf=bs.Response,Es=Object.freeze(Object.defineProperty({__proto__:null,Headers:al,Request:mf,Response:vf,default:ol,fetch:_f},Symbol.toStringTag,{value:"Module"})),yf=pf(Es);var ir={},oo;function ll(){if(oo)return ir;oo=1,Object.defineProperty(ir,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ir.default=e,ir}var ao;function cl(){if(ao)return ns;ao=1;var e=ns&&ns.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ns,"__esModule",{value:!0});const t=e(yf),s=e(ll());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,f;let p=null,m=null,S=null,$=u.status,L=u.statusText;if(u.ok){if(this.method!=="HEAD"){const F=await u.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=F:m=JSON.parse(F))}const C=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),A=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");C&&A&&A.length>1&&(S=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,S=null,$=406,L="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const C=await u.text();try{p=JSON.parse(C),Array.isArray(p)&&u.status===404&&(m=[],p=null,$=200,L="OK")}catch{u.status===404&&C===""?($=204,L="No Content"):p={message:C}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,$=200,L="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:m,count:S,status:$,statusText:L}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ns.default=r,ns}var lo;function ul(){if(lo)return rs;lo=1;var e=rs&&rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rs,"__esModule",{value:!0});const t=e(cl());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return rs.default=s,rs}var co;function ii(){if(co)return ss;co=1;var e=ss&&ss.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ss,"__esModule",{value:!0});const t=e(ul());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ss.default=s,ss}var uo;function hl(){if(uo)return ts;uo=1;var e=ts&&ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ts,"__esModule",{value:!0});const t=e(ii());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ts.default=s,ts}var Os={},Ps={},ho;function wf(){return ho||(ho=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.version=void 0,Ps.version="0.0.0-automated"),Ps}var fo;function bf(){if(fo)return Os;fo=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.DEFAULT_HEADERS=void 0;const e=wf();return Os.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Os}var po;function Sf(){if(po)return es;po=1;var e=es&&es.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(es,"__esModule",{value:!0});const t=e(hl()),s=e(ii()),r=bf();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const f=new URL(`${this.url}/rpc/${o}`);let p;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([S,$])=>$!==void 0).map(([S,$])=>[S,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([S,$])=>{f.searchParams.append(S,$)})):(h="POST",p=a);const m=Object.assign({},this.headers);return c&&(m.Prefer=`count=${c}`),new s.default({method:h,url:f,headers:m,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return es.default=n,es}var go;function Ef(){if(go)return xe;go=1;var e=xe&&xe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xe,"__esModule",{value:!0}),xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const t=e(Sf());xe.PostgrestClient=t.default;const s=e(hl());xe.PostgrestQueryBuilder=s.default;const r=e(ii());xe.PostgrestFilterBuilder=r.default;const n=e(ul());xe.PostgrestTransformBuilder=n.default;const i=e(cl());xe.PostgrestBuilder=i.default;const o=e(ll());return xe.PostgrestError=o.default,xe.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},xe}var kf=Ef();const Tf=il(kf),{PostgrestClient:xf,PostgrestQueryBuilder:yg,PostgrestFilterBuilder:wg,PostgrestTransformBuilder:bg,PostgrestBuilder:Sg,PostgrestError:Eg}=Tf,$f="2.11.2",Of={"X-Client-Info":`realtime-js/${$f}`},Pf="1.0.0",fl=1e4,Af=1e3;var _s;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_s||(_s={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Xe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xe||(Xe={}));var Sn;(function(e){e.websocket="websocket"})(Sn||(Sn={}));var Kt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kt||(Kt={}));class Rf{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class dl{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const _o=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Cf(o,e,t,n),i),{})},Cf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?pl(i,o):En(o)},pl=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Df(t,s)}switch(e){case pe.bool:return jf(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return If(t);case pe.json:case pe.jsonb:return Mf(t);case pe.timestamp:return Lf(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return En(t);default:return En(t)}},En=e=>e,jf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},If=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Df=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>pl(t,a))}return e},Lf=e=>typeof e=="string"?e.replace(" ","T"):e,gl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zr{constructor(t,s,r={},n=fl){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mo||(mo={}));class Bs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Bs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Bs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map($=>$.presence_ref),p=h.map($=>$.presence_ref),m=c.filter($=>p.indexOf($.presence_ref)<0),S=h.filter($=>f.indexOf($.presence_ref)<0);m.length>0&&(a[u]=m),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vo||(vo={}));var yo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yo||(yo={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class oi{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Zr(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new dl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Bs(this),this.broadcastEndpointURL=gl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(_t.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(_t.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(_t.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let S=0;S<p;S++){const $=f[S],{filter:{event:L,schema:U,table:C,filter:A}}=$,F=c&&c[S];if(F&&F.event===L&&F.schema===U&&F.table===C&&F.filter===A)m.push(Object.assign(Object.assign({},$),{id:F.id}));else{this.unsubscribe(),t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(_t.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Zr(this,Xe.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Zr(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Xe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var m,S,$;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||(($=(S=p.filter)===null||S===void 0?void 0:S.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,S,$,L,U,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,F=(m=p.filter)===null||m===void 0?void 0:m.event;return A&&((S=s.ids)===null||S===void 0?void 0:S.includes(A))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===(($=s.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const A=(U=(L=p==null?void 0:p.filter)===null||L===void 0?void 0:L.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return A==="*"||A===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:S,table:$,commit_timestamp:L,type:U,errors:C}=m;f=Object.assign(Object.assign({},{schema:S,table:$,commit_timestamp:L,eventType:U,new:{},old:{},errors:C}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oi.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xe.close,{},t)}_onError(t){this._on(Xe.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=_o(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=_o(t.columns,t.old_record)),s}}const Uf=()=>{},Nf=typeof WebSocket<"u",Ff=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bf{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Of,this.params={},this.timeout=fl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Uf,this.conn=null,this.sendBuffer=[],this.serializer=new Rf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ws(async()=>{const{default:l}=await Promise.resolve().then(()=>Es);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Sn.websocket}`,this.httpEndpoint=gl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Hf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ws(async()=>{const{default:t}=await import("./browser-7Y12DPOv.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pf}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return Kt.Connecting;case _s.open:return Kt.Open;case _s.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(t,s={config:{}}){const r=new oi(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Xe.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Af,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xe.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([Ff],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Hf{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_s.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ai extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qf extends ai{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kn extends ai{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Vf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const _l=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Kf=()=>Vf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ws(()=>Promise.resolve().then(()=>Es),void 0)).Response:Response}),Tn=e=>{if(Array.isArray(e))return e.map(s=>Tn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Tn(r)}),t};var Qt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const en=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wf=(e,t,s)=>Qt(void 0,void 0,void 0,function*(){const r=yield Kf();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new qf(en(n),e.status||500))}).catch(n=>{t(new kn(en(n),n))}):t(new kn(en(e),e))}),zf=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function tr(e,t,s,r,n,i){return Qt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,zf(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Wf(l,a,r))})})}function br(e,t,s,r){return Qt(this,void 0,void 0,function*(){return tr(e,"GET",t,s,r)})}function At(e,t,s,r,n){return Qt(this,void 0,void 0,function*(){return tr(e,"POST",t,r,n,s)})}function Jf(e,t,s,r,n){return Qt(this,void 0,void 0,function*(){return tr(e,"PUT",t,r,n,s)})}function Gf(e,t,s,r){return Qt(this,void 0,void 0,function*(){return tr(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ml(e,t,s,r,n){return Qt(this,void 0,void 0,function*(){return tr(e,"DELETE",t,r,n,s)})}var He=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Yf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qf{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=_l(n)}uploadOrUpdate(t,s,r,n){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if($e(i))return{data:null,error:i};throw i}})}upload(t,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:wo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if($e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ai("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}update(t,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return He(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}copy(t,s,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return He(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return He(this,void 0,void 0,function*(){try{const n=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}download(t,s){return He(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield br(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if($e(a))return{data:null,error:a};throw a}})}info(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield br(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Tn(r),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Gf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($e(r)&&r instanceof kn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}list(t,s,r){return He(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Yf),s),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Xf="2.7.1",Zf={"X-Client-Info":`storage-js/${Xf}`};var is=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class ed{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},Zf),s),this.fetch=_l(r)}listBuckets(){return is(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return is(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return is(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return is(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return is(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}deleteBucket(t){return is(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}}class td extends ed{constructor(t,s={},r){super(t,s,r)}from(t){return new Qf(this.url,this.headers,t,this.fetch)}}const sd="2.49.4";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const rd={"X-Client-Info":`supabase-js-${Rs}/${sd}`},nd={headers:rd},id={schema:"public"},od={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ad={};var ld=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const cd=e=>{let t;return e?t=e:typeof fetch>"u"?t=ol:t=fetch,(...s)=>t(...s)},ud=()=>typeof Headers>"u"?al:Headers,hd=(e,t,s)=>{const r=cd(s),n=ud();return(i,o)=>ld(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var fd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function dd(e){return e.replace(/\/$/,"")}function pd(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>fd(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const vl="2.69.1",us=30*1e3,xn=3,tn=xn*us,gd="http://localhost:9999",_d="supabase.auth.token",md={"X-Client-Info":`gotrue-js/${vl}`},$n="X-Supabase-Api-Version",yl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yd=6e5;class li extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wd extends li{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function bd(e){return X(e)&&e.name==="AuthApiError"}class wl extends li{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Nt extends li{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class Tt extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sd(e){return X(e)&&e.name==="AuthSessionMissingError"}class sn extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class or extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ar extends Nt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ed(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class bo extends Nt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class On extends Nt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function rn(e){return X(e)&&e.name==="AuthRetryableFetchError"}class So extends Nt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Hs extends Nt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ko=` 	
\r=`.split(""),kd=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=-2;for(let t=0;t<Eo.length;t+=1)e[Eo[t].charCodeAt(0)]=t;return e})();function bl(e,t,s){const r=kd[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function To(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{$d(o,r,s)};for(let o=0;o<e.length;o+=1)bl(e.charCodeAt(o),n,i);return t.join("")}function Td(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xd(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Td(r,t)}}function $d(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Od(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)bl(e.charCodeAt(n),s,r);return new Uint8Array(t)}function Pd(e){const t=[];return xd(e,s=>t.push(s)),new Uint8Array(t)}function Ad(e){return Math.round(Date.now()/1e3)+e}function Rd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},qs=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function Cd(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Sl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},jd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",El=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},lr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},cr=async(e,t)=>{await e.removeItem(t)};class Dr{constructor(){this.promise=new Dr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Dr.promiseConstructor=Promise;function nn(e){const t=e.split(".");if(t.length!==3)throw new Hs("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vd.test(t[r]))throw new Hs("JWT not in base64url format");return{header:JSON.parse(To(t[0])),payload:JSON.parse(To(t[1])),signature:Od(t[2]),raw:{header:t[0],payload:t[1]}}}async function Id(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Md(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Dd(e){return("0"+e.toString(16)).substr(-2)}function Ld(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Dd).join("")}async function Ud(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Nd(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Ud(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function os(e,t,s=!1){const r=Ld();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await El(e,`${t}-code-verifier`,n);const i=await Nd(r);return[i,r===i?"plain":"s256"]}const Fd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bd(e){const t=e.headers.get($n);if(!t||!t.match(Fd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Hd(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qd(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Vd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Vt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kd=[502,503,504];async function xo(e){var t;if(!jd(e))throw new On(Vt(e),0);if(Kd.includes(e.status))throw new On(Vt(e),e.status);let s;try{s=await e.json()}catch(i){throw new wl(Vt(i),i)}let r;const n=Bd(e);if(n&&n.getTime()>=yl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new So(Vt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new So(Vt(s),e.status,s.weak_password.reasons);throw new wd(Vt(s),e.status||500,r)}const Wd=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function re(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[$n]||(i[$n]=yl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await zd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function zd(e,t,s,r,n,i){const o=Wd(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new On(Vt(l),0)}if(a.ok||await xo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await xo(l)}}function xt(e){var t;let s=null;Qd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Ad(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function $o(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ct(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Jd(e){return{data:e,error:null}}function Gd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=Vd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Yd(e){return e}function Qd(e){return e.access_token&&e.refresh_token&&e.expires_in}var Xd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class Zd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Sl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ct})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Xd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Gd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ct})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Yd});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const S=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(m.split(";")[1].split("=")[1]);u[`${$}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ct})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ct})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ct})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}}const ep={getItem:e=>qs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{qs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{qs()&&globalThis.localStorage.removeItem(e)}};function Oo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function tp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const as={debug:!!(globalThis&&qs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sp extends kl{}async function rp(e,t,s){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(as.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}tp();const np={url:gd,storageKey:_d,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:md,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Po(e,t,s){return await s()}class Xs{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xs.nextInstanceID,Xs.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},np),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Zd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Sl(n.fetch),this.lock=n.lock||Po,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ot()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=rp:this.lock=Po,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:qs()?this.storage=ep:(this.memoryStorage={},this.storage=Oo(this.memoryStorage)):(this.memoryStorage={},this.storage=Oo(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Cd(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),ot()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ed(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?{error:s}:{error:new wl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await os(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:xt})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xt})}else throw new or("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$o})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$o})}else throw new or("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await lr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xt});if(await cr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await os(this.storage,this.storageKey));const{error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new or("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await os(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Jd})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Tt;const{error:n}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new or("You must provide either an email or phone number and a type")}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ct}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(s){if(X(s))return Sd(s)&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await os(this.storage,this.storageKey));const{data:u,error:c}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ct});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=nn(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(X(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!ot())throw new ar("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ar(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new bo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bo("No code detected.");const{data:U,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ar("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:S,error:$}=await this._getUser(i);if($)throw $;const L={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:t.type},error:null}}catch(r){if(X(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await lr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(bd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Rd(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await os(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return ot()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(X(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Md(async n=>(n>0&&await Id(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&rn(i)&&Date.now()+o-r<us})}catch(r){if(this._debug(s,"error",r),X(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),ot()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await lr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tn;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${tn}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),rn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Dr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),X(i)){const o={session:null,error:i};return rn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await El(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),us);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${us}ms, refresh threshold is ${xn} ticks`),n<=xn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await os(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+yd>Date.now()))return r;const{data:n,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Hs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new Hs("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=nn(r);if(Hd(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=qd(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Pd(`${a}.${l}`)))throw new Hs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}}Xs.nextInstanceID=0;const ip=Xs;class op extends ip{constructor(t){super(t)}}var ap=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class lp{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=dd(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:id,realtime:ad,auth:Object.assign(Object.assign({},od),{storageKey:l}),global:nd},c=pd(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=hd(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new xf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new df(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new td(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return ap(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new op({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Bf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cp=(e,t,s)=>new lp(e,t,s),jt=cp("https://huavdkastjaujqfyrqbu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh1YXZka2FzdGphdWpxZnlycWJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0MTc2MzIsImV4cCI6MjA2Mjk5MzYzMn0.4gxlfGLy9dqTKhMNXAU0yuTtCenFPdml57deTgtBCvE"),up={name:"",isAuth:!!localStorage.getItem("sb-huavdkastjaujqfyrqbu-auth-token")},Lr=Zn("auth",{state:()=>up,getters:{isAuthenticated:e=>e.isAuth},actions:{async initialize(){var e;try{const{data:t}=await jt.auth.getUser();this.name=((e=t.user)==null?void 0:e.user_metadata.name)??"",this.isAuth=!!t.user}catch(t){console.error("Failed to initialize auth store:",t)}},async logout(){await jt.auth.signOut(),this.name="",this.isAuth=!1},async login(e){const{data:t,error:s}=await jt.auth.signInWithPassword({email:e.email,password:e.password});if(t.session&&(this.name=t.user.user_metadata.name,this.isAuth=!0),s)throw s},async register(e){const{error:t}=await jt.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.name}}});if(t)throw t}}}),hp={messages:[]},Tl=Zn("chat",{state:()=>hp,getters:{isThereMessage:e=>!!e.messages.length},actions:{async addNewMessage(e){try{const t=Lr().name,{data:s}=await jt.from("messages").insert({message:e,name:t}).select().single(),r={$id:s.$id,$createdAt:s.$createdAt,message:s.message,name:s.name};this.messages.push(r)}catch(t){console.log(t)}},loadMessages(e){this.messages.push(e)},addAnotherMessage(e){this.messages.find(s=>s.$id===e.$id)||this.messages.push(e)}}}),Qe=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},fp={},dp={class:"message"},pp={class:"name"},gp={class:"message__text"},_p={class:"time"};function mp(e,t){return ue(),ke("div",dp,[ce("span",pp,[Ms(e.$slots,"name",{},void 0)]),ce("p",gp,[Ms(e.$slots,"message",{},void 0)]),ce("span",_p,[Ms(e.$slots,"time",{},void 0)])])}const vp=Qe(fp,[["render",mp],["__scopeId","data-v-d32cf38a"]]),yp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='120'%20height='30'%20fill='%23999'%3e%3ccircle%20cx='15'%20cy='15'%20r='15'%3e%3canimate%20attributeName='r'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='15'%20repeatCount='indefinite'%20to='15'%20values='15;9;15'/%3e%3canimate%20attributeName='fill-opacity'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='1'%20repeatCount='indefinite'%20to='1'%20values='1;.5;1'/%3e%3c/circle%3e%3ccircle%20cx='60'%20cy='15'%20r='9'%20fill-opacity='.3'%3e%3canimate%20attributeName='r'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='9'%20repeatCount='indefinite'%20to='9'%20values='9;15;9'/%3e%3canimate%20attributeName='fill-opacity'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='.5'%20repeatCount='indefinite'%20to='.5'%20values='.5;1;.5'/%3e%3c/circle%3e%3ccircle%20cx='105'%20cy='15'%20r='15'%3e%3canimate%20attributeName='r'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='15'%20repeatCount='indefinite'%20to='15'%20values='15;9;15'/%3e%3canimate%20attributeName='fill-opacity'%20begin='0s'%20calcMode='linear'%20dur='0.8s'%20from='1'%20repeatCount='indefinite'%20to='1'%20values='1;.5;1'/%3e%3c/circle%3e%3c/svg%3e",wp={},bp={class:"loader"};function Sp(e,t){return ue(),ke("div",bp,t[0]||(t[0]=[ce("img",{src:yp,alt:"Loader"},null,-1)]))}const Ep=Qe(wp,[["render",Sp],["__scopeId","data-v-1cff8854"]]),kp=["value"],Tp=ft({__name:"Input",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const s=t,r=n=>{s("update:modelValue",n.target.value)};return(n,i)=>(ue(),ke("input",{value:n.modelValue,onInput:r,type:"text",class:"input",placeholder:"Введите сообщение..."},null,40,kp))}}),fr=Qe(Tp,[["__scopeId","data-v-2816e63e"]]),xp={},$p={type:"submit",class:"btn"};function Op(e,t){return ue(),ke("button",$p,[Ms(e.$slots,"default",{},()=>[t[0]||(t[0]=ut("Отправить"))])])}const xl=Qe(xp,[["render",Op],["__scopeId","data-v-688bc3a0"]]);var dr={exports:{}},Pp=dr.exports,Ao;function Ap(){return Ao||(Ao=1,function(e,t){(function(s,r){e.exports=r()})(Pp,function(){var s=1e3,r=6e4,n=36e5,i="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",f="quarter",p="year",m="date",S="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var j=["th","st","nd","rd"],k=B%100;return"["+B+(j[(k-20)%10]||j[k]||j[0])+"]"}},C=function(B,j,k){var T=String(B);return!T||T.length>=j?B:""+Array(j+1-T.length).join(k)+B},A={s:C,z:function(B){var j=-B.utcOffset(),k=Math.abs(j),T=Math.floor(k/60),E=k%60;return(j<=0?"+":"-")+C(T,2,"0")+":"+C(E,2,"0")},m:function B(j,k){if(j.date()<k.date())return-B(k,j);var T=12*(k.year()-j.year())+(k.month()-j.month()),E=j.clone().add(T,h),q=k-E<0,V=j.clone().add(T+(q?-1:1),h);return+(-(T+(k-E)/(q?E-V:V-E))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:h,y:p,w:c,d:u,D:m,h:l,m:a,s:o,ms:i,Q:f}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},F="en",fe={};fe[F]=U;var ie="$isDayjsObject",Z=function(B){return B instanceof Te||!(!B||!B[ie])},Q=function B(j,k,T){var E;if(!j)return F;if(typeof j=="string"){var q=j.toLowerCase();fe[q]&&(E=q),k&&(fe[q]=k,E=q);var V=j.split("-");if(!E&&V.length>1)return B(V[0])}else{var ee=j.name;fe[ee]=j,E=ee}return!T&&E&&(F=E),E||!T&&F},G=function(B,j){if(Z(B))return B.clone();var k=typeof j=="object"?j:{};return k.date=B,k.args=arguments,new Te(k)},J=A;J.l=Q,J.i=Z,J.w=function(B,j){return G(B,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var Te=function(){function B(k){this.$L=Q(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[ie]=!0}var j=B.prototype;return j.parse=function(k){this.$d=function(T){var E=T.date,q=T.utc;if(E===null)return new Date(NaN);if(J.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var V=E.match($);if(V){var ee=V[2]-1||0,te=(V[7]||"0").substring(0,3);return q?new Date(Date.UTC(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,te)):new Date(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,te)}}return new Date(E)}(k),this.init()},j.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},j.$utils=function(){return J},j.isValid=function(){return this.$d.toString()!==S},j.isSame=function(k,T){var E=G(k);return this.startOf(T)<=E&&E<=this.endOf(T)},j.isAfter=function(k,T){return G(k)<this.startOf(T)},j.isBefore=function(k,T){return this.endOf(T)<G(k)},j.$g=function(k,T,E){return J.u(k)?this[T]:this.set(E,k)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(k,T){var E=this,q=!!J.u(T)||T,V=J.p(k),ee=function(O,D){var se=J.w(E.$u?Date.UTC(E.$y,D,O):new Date(E.$y,D,O),E);return q?se:se.endOf(u)},te=function(O,D){return J.w(E.toDate()[O].apply(E.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(D)),E)},ve=this.$W,we=this.$M,Pe=this.$D,Ee="set"+(this.$u?"UTC":"");switch(V){case p:return q?ee(1,0):ee(31,11);case h:return q?ee(1,we):ee(0,we+1);case c:var v=this.$locale().weekStart||0,M=(ve<v?ve+7:ve)-v;return ee(q?Pe-M:Pe+(6-M),we);case u:case m:return te(Ee+"Hours",0);case l:return te(Ee+"Minutes",1);case a:return te(Ee+"Seconds",2);case o:return te(Ee+"Milliseconds",3);default:return this.clone()}},j.endOf=function(k){return this.startOf(k,!1)},j.$set=function(k,T){var E,q=J.p(k),V="set"+(this.$u?"UTC":""),ee=(E={},E[u]=V+"Date",E[m]=V+"Date",E[h]=V+"Month",E[p]=V+"FullYear",E[l]=V+"Hours",E[a]=V+"Minutes",E[o]=V+"Seconds",E[i]=V+"Milliseconds",E)[q],te=q===u?this.$D+(T-this.$W):T;if(q===h||q===p){var ve=this.clone().set(m,1);ve.$d[ee](te),ve.init(),this.$d=ve.set(m,Math.min(this.$D,ve.daysInMonth())).$d}else ee&&this.$d[ee](te);return this.init(),this},j.set=function(k,T){return this.clone().$set(k,T)},j.get=function(k){return this[J.p(k)]()},j.add=function(k,T){var E,q=this;k=Number(k);var V=J.p(T),ee=function(we){var Pe=G(q);return J.w(Pe.date(Pe.date()+Math.round(we*k)),q)};if(V===h)return this.set(h,this.$M+k);if(V===p)return this.set(p,this.$y+k);if(V===u)return ee(1);if(V===c)return ee(7);var te=(E={},E[a]=r,E[l]=n,E[o]=s,E)[V]||1,ve=this.$d.getTime()+k*te;return J.w(ve,this)},j.subtract=function(k,T){return this.add(-1*k,T)},j.format=function(k){var T=this,E=this.$locale();if(!this.isValid())return E.invalidDate||S;var q=k||"YYYY-MM-DDTHH:mm:ssZ",V=J.z(this),ee=this.$H,te=this.$m,ve=this.$M,we=E.weekdays,Pe=E.months,Ee=E.meridiem,v=function(D,se,d,g){return D&&(D[se]||D(T,q))||d[se].slice(0,g)},M=function(D){return J.s(ee%12||12,D,"0")},O=Ee||function(D,se,d){var g=D<12?"AM":"PM";return d?g.toLowerCase():g};return q.replace(L,function(D,se){return se||function(d){switch(d){case"YY":return String(T.$y).slice(-2);case"YYYY":return J.s(T.$y,4,"0");case"M":return ve+1;case"MM":return J.s(ve+1,2,"0");case"MMM":return v(E.monthsShort,ve,Pe,3);case"MMMM":return v(Pe,ve);case"D":return T.$D;case"DD":return J.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return v(E.weekdaysMin,T.$W,we,2);case"ddd":return v(E.weekdaysShort,T.$W,we,3);case"dddd":return we[T.$W];case"H":return String(ee);case"HH":return J.s(ee,2,"0");case"h":return M(1);case"hh":return M(2);case"a":return O(ee,te,!0);case"A":return O(ee,te,!1);case"m":return String(te);case"mm":return J.s(te,2,"0");case"s":return String(T.$s);case"ss":return J.s(T.$s,2,"0");case"SSS":return J.s(T.$ms,3,"0");case"Z":return V}return null}(D)||V.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(k,T,E){var q,V=this,ee=J.p(T),te=G(k),ve=(te.utcOffset()-this.utcOffset())*r,we=this-te,Pe=function(){return J.m(V,te)};switch(ee){case p:q=Pe()/12;break;case h:q=Pe();break;case f:q=Pe()/3;break;case c:q=(we-ve)/6048e5;break;case u:q=(we-ve)/864e5;break;case l:q=we/n;break;case a:q=we/r;break;case o:q=we/s;break;default:q=we}return E?q:J.a(q)},j.daysInMonth=function(){return this.endOf(h).$D},j.$locale=function(){return fe[this.$L]},j.locale=function(k,T){if(!k)return this.$L;var E=this.clone(),q=Q(k,T,!0);return q&&(E.$L=q),E},j.clone=function(){return J.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},B}(),Oe=Te.prototype;return G.prototype=Oe,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",p],["$D",m]].forEach(function(B){Oe[B[1]]=function(j){return this.$g(j,B[0],B[1])}}),G.extend=function(B,j){return B.$i||(B(j,Te,G),B.$i=!0),G},G.locale=Q,G.isDayjs=Z,G.unix=function(B){return G(1e3*B)},G.en=fe[F],G.Ls=fe,G.p={},G})}(dr)),dr.exports}var Rp=Ap();const Cp=il(Rp),jp={class:"chat"},Ip={key:1,class:"text"},Mp={key:2,class:"text"},Dp=ft({__name:"TheChat",setup(e){const t=Tl(),s=wt(null),r=wt(""),n=qe("isLoading"),i=qe("thereError"),o=()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},a=()=>{r.value.trim().length&&(t.addNewMessage(r.value),r.value="")};pa(()=>Pr(o));const u=(()=>{const c=jt.channel("messages_channel");return c.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},h=>{const f={$id:h.new.$id,$createdAt:h.new.$createdAt,message:h.new.message,name:h.new.name};t.addAnotherMessage(f)}).subscribe(),()=>jt.removeChannel(c)})();return Wn(()=>u()),(c,h)=>(ue(),ke("div",jp,[Re(n)?(ue(),et(Ep,{key:0})):(ue(),ke(Ae,{key:1},[Re(t).isThereMessage?(ue(),ke("div",{key:0,ref_key:"chatContainer",ref:s,class:"chat__messages"},[(ue(!0),ke(Ae,null,Cc(Re(t).messages,f=>(ue(),et(vp,null,{name:yt(()=>[ut(vt(f.name),1)]),message:yt(()=>[ut(vt(f.message),1)]),time:yt(()=>[ut(vt(Re(Cp)(f.$createdAt).format("HH:mm DD MMMM")),1)]),_:2},1024))),256))],512)):Re(i)?(ue(),ke("div",Ip,h[1]||(h[1]=[ce("p",{style:{"margin-bottom":"0.5rem"}},"Ошибка загрузки сообщений...",-1),ce("p",null,"Попробуйте позже",-1)]))):(ue(),ke("p",Mp,"Сообщение пока нет..."))],64)),ce("form",{class:"chat__control",onSubmit:Xn(a,["prevent"])},[me(fr,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=f=>r.value=f)},null,8,["modelValue"]),me(xl)],32)]))}}),Lp=Qe(Dp,[["__scopeId","data-v-95147de6"]]),Up=ft({__name:"HomeView",setup(e){const t=Tl(),s=wt(!1),r=wt(!1);return gs("isLoading",s),gs("thereError",r),Kn(async()=>{try{s.value=!0;const{data:n}=await jt.from("messages").select().order("$createdAt");if(n)for(const i of n){const o={$id:i.$id,$createdAt:i.$createdAt,message:i.message,name:i.name};t.loadMessages(o)}}catch(n){console.log(n),r.value=!0}finally{s.value=!1}}),(n,i)=>(ue(),et(Lp))}}),Np={class:"auth"},Fp={class:"auth__title"},Bp=ft({__name:"Form",emits:["error"],setup(e,{emit:t}){const s=t,r=ri(),n=je(()=>r.query.action),i=je(()=>n.value==="login"),o=Lr(),a=si(),l=Ss({email:"",password:"",name:""}),u=je(()=>i.value?l.email&&l.password:l.email&&l.password&&l.name),c=async()=>{if(u.value)try{i.value?(await o.login(l),a.push("/")):await o.register(l),Object.assign(l,{email:"",password:"",name:""})}catch(h){h instanceof Error&&(h instanceof Error?s("error",h.message):s("error","unknown"))}};return(h,f)=>(ue(),ke("div",Np,[ce("h3",Fp,vt(i.value?"Логин":"Регистрация"),1),ce("form",{class:"auth__form",onSubmit:Xn(c,["prevent"])},[me(fr,{modelValue:l.email,"onUpdate:modelValue":f[0]||(f[0]=p=>l.email=p),type:"email",placeholder:"Почта"},null,8,["modelValue"]),me(fr,{modelValue:l.password,"onUpdate:modelValue":f[1]||(f[1]=p=>l.password=p),type:"password",placeholder:"Пароль"},null,8,["modelValue"]),i.value?Gn("",!0):(ue(),et(fr,{key:0,modelValue:l.name,"onUpdate:modelValue":f[2]||(f[2]=p=>l.name=p),placeholder:"Имя"},null,8,["modelValue"])),me(xl,null,{default:yt(()=>[ut(vt(i.value?"Войти":"Зарегистрироваться"),1)]),_:1})],32)]))}}),Hp=Qe(Bp,[["__scopeId","data-v-e8206c1a"]]),qp={};function Vp(e,t){return ue(),ke("div",null,[Ms(e.$slots,"default",{},void 0)])}const Kp=Qe(qp,[["render",Vp],["__scopeId","data-v-92506d90"]]),Wp=ft({__name:"AuthView",setup(e){const t={requiredAuth:"Нужно авторизоваться",unknown:"Неизвестная ошибка","Invalid login credentials":"Неверные учетные данные","User already registered":"Такой пользователь уже существует","Password should be at least 6 characters.":"Пароль должен содержать не менее 6 символов"},s=ri(),r=wt(!1),n=wt("");let i=null;const o=je(()=>t[n.value]||t.unknown);Kn(()=>{s.query.message&&(n.value=String(s.query.message),l())});const a=()=>{i&&(clearTimeout(i),i=null)};Jt(s,()=>{a(),u(),s.query.message&&(n.value=String(s.query.message),l())}),Jt(n,()=>{n.value.length&&(a(),l())});const l=()=>{r.value=!0,i=setTimeout(()=>{u(),n.value=""},5e3)},u=()=>r.value=!1,c=h=>{a(),l(),n.value=h};return(h,f)=>(ue(),ke(Ae,null,[r.value?(ue(),et(Kp,{key:0},{default:yt(()=>[ut(vt(o.value),1)]),_:1})):Gn("",!0),me(Hp,{onError:c})],64))}}),zp=[{path:"/",component:Up,meta:{layout:"main",auth:!0}},{path:"/auth",component:Wp,meta:{layout:"auth",auth:!1}}],Jp=rf({history:Ch(),routes:zp}),$l=Zn("theme",{state:()=>({isDark:!1}),actions:{load(e){this.isDark=e,document.documentElement.classList.toggle("dark",this.isDark)},toggleTheme(){this.isDark=!this.isDark,document.documentElement.classList.toggle("dark",this.isDark),localStorage.setItem("darkMode",String(this.isDark))}}}),Gp={class:"wrapper"},Yp={class:"switch"},Qp=["checked"],Xp=ft({__name:"Toggle",setup(e){const t=$l();return(s,r)=>(ue(),ke("label",Gp,[ce("p",null,vt(Re(t).isDark?"Темная тема":"Светлая тема"),1),ce("span",Yp,[ce("input",{type:"checkbox",onClick:r[0]||(r[0]=(...n)=>Re(t).toggleTheme&&Re(t).toggleTheme(...n)),checked:Re(t).isDark},null,8,Qp),r[1]||(r[1]=ce("span",{class:"slider"},null,-1))])]))}}),Zp=Qe(Xp,[["__scopeId","data-v-d66d4caa"]]),eg={},tg={fill:"#000000",height:"18px",width:"18px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384.971 384.971","xml:space":"preserve"};function sg(e,t){return ue(),ke("svg",tg,t[0]||(t[0]=[ce("g",null,[ce("g",{id:"Sign_Out"},[ce("path",{d:`M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03\r
			C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03\r
			C192.485,366.299,187.095,360.91,180.455,360.91z`}),ce("path",{d:`M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279\r
			c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179\r
			c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z`})]),ce("g"),ce("g"),ce("g"),ce("g"),ce("g"),ce("g")],-1)]))}const rg=Qe(eg,[["render",sg],["__scopeId","data-v-c5708756"]]),ng={class:"header"},ig={class:"container header__container"},og={class:"header__right"},ag={class:"header__nav"},lg={style:{"margin-right":"1rem"}},cg=ft({__name:"TheHeader",setup(e){const t=Lr(),s=si(),r=async()=>{await t.logout(),await s.push("/auth?action=login")};return(n,i)=>{const o=zn("router-link");return ue(),ke("header",ng,[ce("div",ig,[me(o,{to:"/",class:"header__title"},{default:yt(()=>i[0]||(i[0]=[ut("VEEChat")])),_:1}),ce("div",og,[me(Zp),ce("nav",ag,[Re(t).isAuthenticated?(ue(),ke(Ae,{key:1},[ce("span",lg,"Имя: "+vt(Re(t).name),1),me(rg,{onClick:Xn(r,["prevent"])})],64)):(ue(),ke(Ae,{key:0},[me(o,{to:"/auth?action=login"},{default:yt(()=>i[1]||(i[1]=[ut("Логин")])),_:1}),i[3]||(i[3]=ce("span",null,"/",-1)),me(o,{to:"/auth?action=register"},{default:yt(()=>i[2]||(i[2]=[ut("Регистрация")])),_:1})],64))])])])])}}}),ug=Qe(cg,[["__scopeId","data-v-94807d47"]]),hg={};function fg(e,t){const s=zn("router-view");return ue(),et(s)}const dg=Qe(hg,[["render",fg]]),pg={};function gg(e,t){const s=zn("router-view");return ue(),et(s)}const _g=Qe(pg,[["render",gg]]),mg=ft({__name:"App",setup(e){const t=$l(),s=localStorage.getItem("darkMode")==="true";t.load(s);const r=ri(),n=je(()=>r.meta.layout==="auth"?dg:_g),i=si(),o=Lr();return o.initialize(),i.beforeEach((a,l,u)=>{const c=a.meta.auth;c&&o.isAuthenticated?u():c&&!o.isAuthenticated?u("/auth?action=login&message=requiredAuth"):u()}),(a,l)=>(ue(),ke("div",null,[me(ug),n.value?(ue(),et(Rc(n.value),{key:0})):Gn("",!0)]))}}),vg=Gu(),ci=Wu(mg);ci.use(Jp);ci.use(vg);ci.mount("#app");export{il as g};
